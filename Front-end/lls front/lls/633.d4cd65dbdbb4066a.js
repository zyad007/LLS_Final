"use strict";(self.webpackChunklls=self.webpackChunklls||[]).push([[633],{9633:(po,A,u)=>{u.r(A),u.d(A,{AuthToolModule:()=>uo});var d=u(6895),m=u(3087),e=u(4650),s=u(433),F=u(4968),G=u(9770),V=u(7579),M=u(2722),j=u(5698),$=u(9718),z=u(4782);function K(i,l){}const x=()=>{const i=typeof window<"u"?window:void 0;return i&&i.tinymce?i.tinymce:null};let P=(()=>{class i{constructor(){this.onBeforePaste=new e.vpe,this.onBlur=new e.vpe,this.onClick=new e.vpe,this.onContextMenu=new e.vpe,this.onCopy=new e.vpe,this.onCut=new e.vpe,this.onDblclick=new e.vpe,this.onDrag=new e.vpe,this.onDragDrop=new e.vpe,this.onDragEnd=new e.vpe,this.onDragGesture=new e.vpe,this.onDragOver=new e.vpe,this.onDrop=new e.vpe,this.onFocus=new e.vpe,this.onFocusIn=new e.vpe,this.onFocusOut=new e.vpe,this.onKeyDown=new e.vpe,this.onKeyPress=new e.vpe,this.onKeyUp=new e.vpe,this.onMouseDown=new e.vpe,this.onMouseEnter=new e.vpe,this.onMouseLeave=new e.vpe,this.onMouseMove=new e.vpe,this.onMouseOut=new e.vpe,this.onMouseOver=new e.vpe,this.onMouseUp=new e.vpe,this.onPaste=new e.vpe,this.onSelectionChange=new e.vpe,this.onActivate=new e.vpe,this.onAddUndo=new e.vpe,this.onBeforeAddUndo=new e.vpe,this.onBeforeExecCommand=new e.vpe,this.onBeforeGetContent=new e.vpe,this.onBeforeRenderUI=new e.vpe,this.onBeforeSetContent=new e.vpe,this.onChange=new e.vpe,this.onClearUndos=new e.vpe,this.onDeactivate=new e.vpe,this.onDirty=new e.vpe,this.onExecCommand=new e.vpe,this.onGetContent=new e.vpe,this.onHide=new e.vpe,this.onInit=new e.vpe,this.onInitNgModel=new e.vpe,this.onLoadContent=new e.vpe,this.onNodeChange=new e.vpe,this.onPostProcess=new e.vpe,this.onPostRender=new e.vpe,this.onPreInit=new e.vpe,this.onPreProcess=new e.vpe,this.onProgressState=new e.vpe,this.onRedo=new e.vpe,this.onRemove=new e.vpe,this.onReset=new e.vpe,this.onResizeEditor=new e.vpe,this.onSaveContent=new e.vpe,this.onSetAttrib=new e.vpe,this.onObjectResizeStart=new e.vpe,this.onObjectResized=new e.vpe,this.onObjectSelected=new e.vpe,this.onSetContent=new e.vpe,this.onShow=new e.vpe,this.onSubmit=new e.vpe,this.onUndo=new e.vpe,this.onVisualAid=new e.vpe}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),i})();const O=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],T=(i,l,t)=>(0,F.R)(i,l).pipe((0,M.R)(t)),S=(i,l)=>"string"==typeof i?i.split(",").map(t=>t.trim()):Array.isArray(i)?i:l;let U=0;const N=i=>typeof i<"u"&&"textarea"===i.tagName.toLowerCase(),J=i=>typeof i>"u"||""===i?[]:Array.isArray(i)?i:i.split(" "),X=(i,l)=>J(i).concat(J(l)),ee=()=>{},k=i=>null==i,te=(()=>{let i={script$:null};return{load:(n,o)=>i.script$||(i.script$=(0,G.P)(()=>{const r=n.createElement("script");return r.referrerPolicy="origin",r.type="application/javascript",r.src=o,n.head.appendChild(r),(0,F.R)(r,"load").pipe((0,j.q)(1),(0,$.h)(void 0))}).pipe((0,z.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{i={script$:null}}}})(),ne=new e.OlP("TINYMCE_SCRIPT_SRC"),ie={provide:s.JU,useExisting:(0,e.Gpc)(()=>Z),multi:!0};let Z=(()=>{class i extends P{constructor(t,n,o,r){super(),this.platformId=o,this.tinymceScriptSrc=r,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=ee,this.destroy$=new V.x,this.initialise=()=>{const a={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:X(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:c=>{this._editor=c,T(c,"init",this.destroy$).subscribe(()=>{this.initEditor(c)}),((i,l,t)=>{(i=>{const l=S(i.ignoreEvents,[]);return S(i.allowedEvents,O).filter(n=>O.includes(n)&&!l.includes(n))})(i).forEach(o=>{const r=i[o];T(l,o.substring(2),t).subscribe(a=>{r.observers.length>0&&i.ngZone.run(()=>r.emit({event:a,editor:l}))})})})(this,c,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(c)}};N(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{x().init(a)})},this._elementRef=t,this.ngZone=n}set disabled(t){this._disabled=t,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(k(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){(0,d.NF)(this.platformId)&&(this.id=this.id||(i=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return U++,"tiny-angular_"+n+U+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==x()?this.initialise():this._element&&this._element.ownerDocument&&te.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,M.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==x()&&x().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,N(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return k(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){T(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),T(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Lbi),e.Y36(ne,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[e._Bn([ie]),e.qOj,e.jDz],decls:1,vars:0,template:function(t,n){1&t&&e.YNc(0,K,0,0,"ng-template")},dependencies:[d.ez,s.u5],styles:["[_nghost-%COMP%]{display:block}"]}),i})(),oe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Z]}),i})();var le=u(1989),p=u(1493),D=u(4937),q=u(9983),g=u(805),v=u(9592),f=u(982),Y=u(1795);const se=["headerchkbox"],re=["filter"];function ae(i,l){1&i&&e.GkF(0)}function ce(i,l){if(1&i&&(e.TgZ(0,"div",6),e.Hsn(1),e.YNc(2,ae,1,0,"ng-container",7),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}const E=function(i){return{"p-checkbox-disabled":i}},ue=function(i,l,t){return{"p-highlight":i,"p-focus":l,"p-disabled":t}},L=function(i){return{"pi pi-check":i}};function de(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"input",13),e.NdJ("focus",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onHeaderCheckboxFocus())})("blur",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onHeaderCheckboxBlur())})("keydown.space",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleAll(o))}),e.qZA()(),e.TgZ(3,"div",14,15),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleAll(o))}),e._UZ(5,"span",16),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(5,E,t.disabled||t.toggleAllDisabled)),e.xp6(2),e.Q6J("checked",t.allChecked)("disabled",t.disabled||t.toggleAllDisabled),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,ue,t.allChecked,t.headerCheckboxFocus,t.disabled||t.toggleAllDisabled)),e.xp6(2),e.Q6J("ngClass",e.VKq(11,L,t.allChecked))}}function pe(i,l){1&i&&e.GkF(0)}const _e=function(i){return{options:i}};function me(i,l){if(1&i&&(e.ynx(0),e.YNc(1,pe,1,0,"ng-container",17),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",e.VKq(2,_e,t.filterOptions))}}function he(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"input",20,21),e.NdJ("input",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onFilter(o))}),e.qZA(),e._UZ(3,"span",22),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("value",t.filterValue||"")("disabled",t.disabled),e.uIk("placeholder",t.filterPlaceHolder)("aria-label",t.ariaFilterLabel)}}function ge(i,l){if(1&i&&e.YNc(0,he,4,4,"div",18),2&i){const t=e.oxw(2);e.Q6J("ngIf",t.filter)}}function fe(i,l){if(1&i&&(e.TgZ(0,"div",6),e.YNc(1,de,6,13,"div",8),e.YNc(2,me,2,4,"ng-container",9),e.YNc(3,ge,1,1,"ng-template",null,10,e.W1O),e.qZA()),2&i){const t=e.MAs(4),n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.checkbox&&n.multiple&&n.showToggleAll),e.xp6(1),e.Q6J("ngIf",n.filterTemplate)("ngIfElse",t)}}function ve(i,l){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Oqu(n.getOptionGroupLabel(t)||"empty")}}function xe(i,l){1&i&&e.GkF(0)}function Te(i,l){1&i&&e.GkF(0)}const w=function(i){return{$implicit:i}};function Ze(i,l){if(1&i&&(e.TgZ(0,"li",24),e.YNc(1,ve,2,1,"span",3),e.YNc(2,xe,1,0,"ng-container",17),e.qZA(),e.YNc(3,Te,1,0,"ng-container",17)),2&i){const t=l.$implicit,n=e.oxw(2),o=e.MAs(8);e.xp6(1),e.Q6J("ngIf",!n.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",n.groupTemplate)("ngTemplateOutletContext",e.VKq(5,w,t)),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(7,w,n.getOptionGroupChildren(t)))}}function Ce(i,l){if(1&i&&(e.ynx(0),e.YNc(1,Ze,4,9,"ng-template",23),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.optionsToRender)}}function be(i,l){1&i&&e.GkF(0)}function qe(i,l){if(1&i&&(e.ynx(0),e.YNc(1,be,1,0,"ng-container",17),e.BQk()),2&i){const t=e.oxw(),n=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(2,w,t.optionsToRender))}}const we=function(i){return{"p-highlight":i}};function ye(i,l){if(1&i&&(e.TgZ(0,"div",11)(1,"div",28),e._UZ(2,"span",16),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.Q6J("ngClass",e.VKq(3,E,n.disabled||n.isOptionDisabled(t))),e.xp6(1),e.Q6J("ngClass",e.VKq(5,we,n.isSelected(t))),e.xp6(1),e.Q6J("ngClass",e.VKq(7,L,n.isSelected(t)))}}function Ie(i,l){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Oqu(n.getOptionLabel(t))}}function Ae(i,l){1&i&&e.GkF(0)}const Fe=function(i,l){return{"p-listbox-item":!0,"p-highlight":i,"p-disabled":l}},Me=function(i,l){return{$implicit:i,index:l}};function Oe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"li",27),e.NdJ("click",function(o){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onOptionClick(o,a))})("dblclick",function(o){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onOptionDoubleClick(o,a))})("touchend",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.onOptionTouchEnd(r))})("keydown",function(o){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onOptionKeyDown(o,a))}),e.YNc(1,ye,3,9,"div",8),e.YNc(2,Ie,2,1,"span",3),e.YNc(3,Ae,1,0,"ng-container",17),e.qZA()}if(2&i){const t=l.$implicit,n=l.index,o=e.oxw(2);e.Q6J("ngClass",e.WLB(8,Fe,o.isSelected(t),o.isOptionDisabled(t))),e.uIk("tabindex",o.disabled||o.isOptionDisabled(t)?null:"0")("aria-label",o.getOptionLabel(t))("aria-selected",o.isSelected(t)),e.xp6(1),e.Q6J("ngIf",o.checkbox&&o.multiple),e.xp6(1),e.Q6J("ngIf",!o.itemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",e.WLB(11,Me,t,n))}}function Se(i,l){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.emptyFilterMessageLabel," ")}}function Ue(i,l){1&i&&e.GkF(0,null,30)}function Ne(i,l){if(1&i&&(e.TgZ(0,"li",29),e.YNc(1,Se,2,1,"ng-container",9),e.YNc(2,Ue,2,0,"ng-container",7),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function Je(i,l){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.emptyMessageLabel," ")}}function ke(i,l){1&i&&e.GkF(0,null,31)}function Qe(i,l){if(1&i&&(e.TgZ(0,"li",29),e.YNc(1,Je,2,1,"ng-container",9),e.YNc(2,ke,2,0,"ng-container",7),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyTemplate)}}function De(i,l){if(1&i&&(e.YNc(0,Oe,4,14,"li",25),e.YNc(1,Ne,3,3,"li",26),e.YNc(2,Qe,3,3,"li",26)),2&i){const t=l.$implicit,n=e.oxw();e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",n.hasFilter()&&n.isEmpty(t)),e.xp6(1),e.Q6J("ngIf",!n.hasFilter()&&n.isEmpty(t))}}function Ye(i,l){1&i&&e.GkF(0)}function Ee(i,l){if(1&i&&(e.TgZ(0,"div",32),e.Hsn(1,1),e.YNc(2,Ye,1,0,"ng-container",7),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const Le=[[["p-header"]],[["p-footer"]]],He=function(i){return{"p-listbox p-component":!0,"p-disabled":i}},Ge=["p-header","p-footer"],Ve={provide:s.JU,useExisting:(0,e.Gpc)(()=>je),multi:!0};let je=(()=>{class i{constructor(t,n,o,r){this.el=t,this.cd=n,this.filterService=o,this.config=r,this.checkbox=!1,this.filter=!1,this.filterMatchMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.optionGroupChildren="items",this.onChange=new e.vpe,this.onClick=new e.vpe,this.onDblClick=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}get options(){return this._options}set options(t){this._options=t,this.hasFilter()&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.filterBy&&(this.filterOptions={filter:t=>this.onFilter(t),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template}})}getOptionLabel(t){return this.optionLabel?f.gb.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?f.gb.resolveFieldData(t,this.optionGroupChildren):t.items}getOptionGroupLabel(t){return this.optionGroupLabel?f.gb.resolveFieldData(t,this.optionGroupLabel):null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?f.gb.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}isOptionDisabled(t){return this.optionDisabled?f.gb.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled}writeValue(t){this.value=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onOptionClick(t,n){this.disabled||this.isOptionDisabled(n)||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(t,n):this.onOptionClickMultiple(t,n):this.onOptionClickSingle(t,n),this.onClick.emit({originalEvent:t,option:n,value:this.value}),this.optionTouched=!1)}onOptionTouchEnd(t){this.disabled||this.isOptionDisabled(t)||this.readonly||(this.optionTouched=!0)}onOptionDoubleClick(t,n){this.disabled||this.isOptionDisabled(n)||this.readonly||this.onDblClick.emit({originalEvent:t,option:n,value:this.value})}onOptionClickSingle(t,n){let o=this.isSelected(n),r=!1;if(!this.optionTouched&&this.metaKeySelection){let c=t.metaKey||t.ctrlKey;o?c&&(this.value=null,r=!0):(this.value=this.getOptionValue(n),r=!0)}else this.value=o?null:this.getOptionValue(n),r=!0;r&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))}onOptionClickMultiple(t,n){let o=this.isSelected(n),r=!1;if(!this.optionTouched&&this.metaKeySelection){let c=t.metaKey||t.ctrlKey;o?(c?this.removeOption(n):this.value=[this.getOptionValue(n)],r=!0):(this.value=c&&this.value||[],this.value=[...this.value,this.getOptionValue(n)],r=!0)}else o?this.removeOption(n):this.value=[...this.value||[],this.getOptionValue(n)],r=!0;r&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))}onOptionClickCheckbox(t,n){this.disabled||this.readonly||(this.isSelected(n)?this.removeOption(n):(this.value=this.value?this.value:[],this.value=[...this.value,this.getOptionValue(n)]),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))}removeOption(t){this.value=this.value.filter(n=>!f.gb.equals(n,this.getOptionValue(t),this.dataKey))}isSelected(t){let n=!1,o=this.getOptionValue(t);if(this.multiple){if(this.value)for(let r of this.value)if(f.gb.equals(r,o,this.dataKey)){n=!0;break}}else n=f.gb.equals(this.value,o,this.dataKey);return n}get allChecked(){let t=this.optionsToRender;if(!t||0===t.length)return!1;{let n=0,o=0,r=0,a=this.group?0:this.optionsToRender.length;for(let c of t)if(this.group)for(let h of this.getOptionGroupChildren(c)){let b=this.isOptionDisabled(h),H=this.isSelected(h);if(b)H?n++:o++;else{if(!H)return!1;r++}a++}else{let h=this.isOptionDisabled(c),b=this.isSelected(c);if(h)b?n++:o++;else{if(!b)return!1;r++}}return a===n||a===r||r&&a===r+o+n}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(g.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(g.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(t){return!t||t&&0===t.length}onFilter(t){this._filterValue=t.target.value,this.activateFilter()}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let t=(this.filterBy||this.optionLabel||"label").split(","),n=[];for(let o of this.options){let r=this.filterService.filter(this.getOptionGroupChildren(o),t,this.filterValue,this.filterMatchMode,this.filterLocale);r&&r.length&&n.push({...o,[this.optionGroupChildren]:r})}this._filteredOptions=n}else this._filteredOptions=this._options.filter(t=>this.filterService.filters[this.filterMatchMode](this.getOptionLabel(t),this._filterValue,this.filterLocale));else this._filteredOptions=null}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}get toggleAllDisabled(){let t=this.optionsToRender;if(!t||0===t.length)return!0;for(let n of t)if(!this.isOptionDisabled(n))return!1;return!0}toggleAll(t){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),t.preventDefault())}checkAll(){let n=[];this.optionsToRender.forEach(o=>{if(this.group){let r=this.getOptionGroupChildren(o);r&&r.forEach(a=>{let c=this.isOptionDisabled(a);(!c||c&&this.isSelected(a))&&n.push(this.getOptionValue(a))})}else{let r=this.isOptionDisabled(o);(!r||r&&this.isSelected(o))&&n.push(this.getOptionValue(o))}}),this.value=n}uncheckAll(){let n=[];this.optionsToRender.forEach(o=>{this.group?o.items&&o.items.forEach(r=>{this.isOptionDisabled(r)&&this.isSelected(r)&&n.push(this.getOptionValue(r))}):this.isOptionDisabled(o)&&this.isSelected(o)&&n.push(this.getOptionValue(o))}),this.value=n}onOptionKeyDown(t,n){if(this.readonly)return;let o=t.currentTarget;switch(t.which){case 40:var r=this.findNextItem(o);r&&r.focus(),t.preventDefault();break;case 38:var a=this.findPrevItem(o);a&&a.focus(),t.preventDefault();break;case 13:this.onOptionClick(t,n),t.preventDefault()}}findNextItem(t){let n=t.nextElementSibling;return n?v.p.hasClass(n,"p-disabled")||v.p.isHidden(n)||v.p.hasClass(n,"p-listbox-item-group")?this.findNextItem(n):n:null}findPrevItem(t){let n=t.previousElementSibling;return n?v.p.hasClass(n,"p-disabled")||v.p.isHidden(n)||v.p.hasClass(n,"p-listbox-item-group")?this.findPrevItem(n):n:null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(g.iZ),e.Y36(g.b4))},i.\u0275cmp=e.Xpm({type:i,selectors:[["p-listbox"]],contentQueries:function(t,n,o){if(1&t&&(e.Suo(o,g.h4,5),e.Suo(o,g.$_,5),e.Suo(o,g.jx,4)),2&t){let r;e.iGM(r=e.CRH())&&(n.headerFacet=r.first),e.iGM(r=e.CRH())&&(n.footerFacet=r.first),e.iGM(r=e.CRH())&&(n.templates=r)}},viewQuery:function(t,n){if(1&t&&(e.Gf(se,5),e.Gf(re,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.headerCheckboxViewChild=o.first),e.iGM(o=e.CRH())&&(n.filterViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick"},features:[e._Bn([Ve])],ngContentSelectors:Ge,decls:10,vars:15,consts:[[3,"ngClass","ngStyle"],["class","p-listbox-header",4,"ngIf"],["role","listbox","aria-multiselectable","multiple",1,"p-listbox-list"],[4,"ngIf"],["itemslist",""],["class","p-listbox-footer",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],[1,"p-checkbox-box",3,"ngClass","click"],["headerchkbox",""],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-listbox-filter-container",4,"ngIf"],[1,"p-listbox-filter-container"],["type","text",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","input"],["filter",""],[1,"p-listbox-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-listbox-item-group"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown",4,"ngFor","ngForOf"],["class","p-listbox-empty-message",4,"ngIf"],["pRipple","","role","option",3,"ngClass","click","dblclick","touchend","keydown"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(t,n){1&t&&(e.F$t(Le),e.TgZ(0,"div",0),e.YNc(1,ce,3,1,"div",1),e.YNc(2,fe,5,3,"div",1),e.TgZ(3,"div",0)(4,"ul",2),e.YNc(5,Ce,2,1,"ng-container",3),e.YNc(6,qe,2,4,"ng-container",3),e.YNc(7,De,3,3,"ng-template",null,4,e.W1O),e.qZA()(),e.YNc(9,Ee,3,1,"div",5),e.qZA()),2&t&&(e.Tol(n.styleClass),e.Q6J("ngClass",e.VKq(13,He,n.disabled))("ngStyle",n.style),e.xp6(1),e.Q6J("ngIf",n.headerFacet||n.headerTemplate),e.xp6(1),e.Q6J("ngIf",n.checkbox&&n.multiple&&n.showToggleAll||n.filter),e.xp6(1),e.Tol(n.listStyleClass),e.Q6J("ngClass","p-listbox-list-wrapper")("ngStyle",n.listStyle),e.xp6(2),e.Q6J("ngIf",n.group),e.xp6(1),e.Q6J("ngIf",!n.group),e.xp6(3),e.Q6J("ngIf",n.footerFacet||n.footerTemplate))},dependencies:[d.mk,d.sg,d.O5,d.tP,d.PC,Y.H],styles:[".p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}\n"],encapsulation:2,changeDetection:0}),i})(),$e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.ez,g.m8,Y.T,g.m8]}),i})();var ze=u(613),Ke=u(4794),C=u(5396),_=u(5859),y=u(5568),Pe=u(9764),I=u(6109),Re=u(8602);function Be(i,l){1&i&&(e.TgZ(0,"span",37),e._uU(1," question is required "),e.qZA())}function We(i,l){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,Be,2,0,"span",36),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.singleMcqForm.get("question"))||null==n.errors?null:n.errors.required)}}function Xe(i,l){1&i&&(e.TgZ(0,"span",38),e._uU(1," only one choice can has score more than 0 "),e.qZA())}function et(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw();return e.KtG(r.deleteChoice(o))}),e.O4$(),e.TgZ(1,"svg",3),e._UZ(2,"path",4),e.qZA()()}}function tt(i,l){1&i&&(e.TgZ(0,"span",37),e._uU(1," choice is required "),e.qZA())}function nt(i,l){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,tt,2,0,"span",36),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("choice"))||null==n.errors?null:n.errors.required)}}function it(i,l){1&i&&(e.TgZ(0,"span",37),e._uU(1," score is required "),e.qZA())}function ot(i,l){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,it,2,0,"span",36),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("score"))||null==n.errors?null:n.errors.required)}}function lt(i,l){1&i&&(e.TgZ(0,"span",37),e._uU(1," score must be less than 1000 "),e.qZA())}function st(i,l){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,lt,2,0,"span",36),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("score"))||null==n.errors?null:n.errors.pattern)}}function rt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",39),e.NdJ("submit",function(o){return o.preventDefault()}),e.TgZ(2,"div",12)(3,"div",13)(4,"div",1),e.YNc(5,et,3,0,"a",40),e.qZA()()(),e.TgZ(6,"div",12)(7,"div",41)(8,"div",14)(9,"label"),e._uU(10,"choice"),e.qZA(),e.TgZ(11,"input",42),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateLocalData())}),e.qZA(),e.YNc(12,nt,2,1,"div",16),e.qZA()(),e.TgZ(13,"div",41)(14,"div",14)(15,"label"),e._uU(16,"score"),e.qZA(),e.TgZ(17,"input",43),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateLocalData())}),e.qZA(),e.YNc(18,ot,2,1,"div",16),e.YNc(19,st,2,1,"div",16),e.qZA()()()()()}if(2&i){const t=l.$implicit,n=e.oxw();let o,r,a;e.xp6(1),e.Q6J("formGroup",t),e.xp6(4),e.Q6J("ngIf",n.choices.controls.length>2),e.xp6(7),e.Q6J("ngIf",(null==(o=t.get("choice"))?null:o.invalid)&&(null==(o=t.get("choice"))?null:o.touched)),e.xp6(6),e.Q6J("ngIf",(null==(r=t.get("score"))?null:r.invalid)&&(null==(r=t.get("score"))?null:r.touched)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.get("score"))?null:a.invalid)&&(null==(a=t.get("score"))?null:a.touched))}}function at(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveQuestions())}),e._uU(1," save Question "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.singleMcqForm.invalid||t.invalidScore)}}function ct(i,l){if(1&i&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const ut=function(){return{width:"60vw"}};let dt=(()=>{class i{constructor(t,n){this.authToolService=t,this.fb=n,this.gradingOptions=["Manual","Auto","ungraded"],this.configForm=new s.cw({help:new s.NI(null,{updateOn:"change",validators:[]}),answeringTime:new s.NI(null,{updateOn:"change",validators:[s.kI.pattern("[0-9]{1,3}")]}),showCountdown:new s.NI(null,{updateOn:"change",validators:[]}),grading:new s.NI("Manual",{updateOn:"change",validators:[]}),showCorrectAnswer:new s.NI(null,{updateOn:"change",validators:[]})}),this.display=!1,this.singleMcqForm=this.fb.group({question:new s.NI(null,{updateOn:"change",validators:[s.kI.required]}),choices:this.fb.array([])}),this.invalidScore=!1}ngOnInit(){this.createEmptyObjectToLocalStorege(),this.configForm.setValue(this.localObjects.config),this.setSingleQuestionForm()}newChoice(t=null){return this.fb.group({choice:[t?t.choice:null,s.kI.required],score:[t?t.score:0,[s.kI.required,s.kI.pattern("[0-9]{1,3}")]]})}displayConfig(){this.display=!0}createConfigSection(){this.configForm.invalid?this.configForm.markAllAsTouched():(this.authToolService.addDataToFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.localObjects,config:{...this.configForm.value}}}),this.display=!1)}createEmptyObjectToLocalStorege(){let t=this.authToolService.getFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex});t.config||(t.config=this.configForm.value,this.authToolService.updateLocalStorage()),t.data||(t.data={},this.authToolService.updateLocalStorage()),this.localObjects=t}deleteChoice(t){this.choices.removeAt(t),this.updateLocalData()}setSingleQuestionForm(){this.localObjects.data?.choices?.length?(this.singleMcqForm.get("question").setValue(this.localObjects.data.question),this.localObjects.data.choices.forEach(t=>{this.choices.push(this.newChoice(t))})):(this.addChoice(),this.addChoice())}addChoice(){this.choices.push(this.newChoice()),this.updateLocalData()}get choices(){return this.singleMcqForm.controls.choices}updateLocalData(){this.invalidScore=!1;let t=0,n=this.choices.value;for(let o=0;o<n.length&&!(n[o].score&&(t+=1,t>1));o++);t>1?this.invalidScore=!0:this.authToolService.addDataToFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.localObjects,data:this.singleMcqForm.value}})}deleteOpenQuestions(){this.authToolService.deleteItemFromFormColumnFrom({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex})}saveQuestions(){if(this.singleMcqForm.invalid||this.invalidScore)return void this.singleMcqForm.markAllAsTouched();let t=this.authToolService.newSingeMcqQuestion();t.config={...t.config,...this.configForm.value},t.content.data=this.singleMcqForm.value,this.authToolService.createSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.j),e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mcq-single"]],inputs:{sectionIndex:"sectionIndex",columnIndex:"columnIndex",pushedIndex:"pushedIndex"},decls:60,vars:14,consts:[[1,"my-2","p-1","bg-content"],[1,"d-flex","justify-content-end"],[1,"mx-3","finger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-archive"],["d","M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-plus-circle-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"],[1,"blue"],[1,"lls-form",3,"formGroup","submit"],[1,"row"],[1,"col-md-10"],[1,"lls-form-group"],["type","text","formControlName","question",3,"input"],["class","errors-container",4,"ngIf"],["formArrayName","choices"],["class","text-danger",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"disabled","click",4,"ngIf"],["header","configration",3,"visible","draggable","modal","visibleChange"],[1,"lls-form",3,"formGroup","ngSubmit"],[1,"col-md-4"],["type","text","formControlName","help"],["type","number","formControlName","answeringTime"],["type","text","formControlName","grading"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4","my-4"],[1,"d-flex","align-items-center"],["type","checkbox","formControlName","showCountdown",1,"w-auto","m-0","p-0"],[1,"mx-2"],["type","checkbox","formControlName","showCorrectAnswer",1,"w-auto","m-0","p-0"],["type","submit",1,"",3,"disabled"],[1,"errors-container"],["class","errors cairo-regular",4,"ngIf"],[1,"errors","cairo-regular"],[1,"text-danger"],[1,"my-3",3,"formGroup","submit"],[3,"click",4,"ngIf"],[1,"col-md-5"],["type","test","formControlName","choice",3,"input"],["type","number","value","true","formControlName","score",3,"input"],[3,"click"],[3,"disabled","click"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(){return n.deleteOpenQuestions()}),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e.qZA()(),e.kcU(),e.TgZ(5,"a",2),e.NdJ("click",function(){return n.displayConfig()}),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"path",6)(8,"path",7),e.qZA()(),e.kcU(),e.TgZ(9,"a",2),e.NdJ("click",function(){return n.addChoice()}),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA()()(),e.kcU(),e.TgZ(12,"h3",10),e._uU(13,"Mcq single select"),e.qZA(),e._UZ(14,"hr"),e.TgZ(15,"form",11),e.NdJ("submit",function(r){return r.preventDefault()}),e.TgZ(16,"div",12)(17,"div",13)(18,"div",14)(19,"label"),e._uU(20,"question"),e.qZA(),e.TgZ(21,"input",15),e.NdJ("input",function(){return n.updateLocalData()}),e.qZA(),e.YNc(22,We,2,1,"div",16),e.qZA()()(),e.TgZ(23,"div",17),e.YNc(24,Xe,2,0,"span",18),e.YNc(25,rt,20,5,"div",19),e.TgZ(26,"div",20),e.YNc(27,at,2,1,"button",21),e.qZA()()()(),e.TgZ(28,"p-dialog",22),e.NdJ("visibleChange",function(r){return n.display=r}),e.TgZ(29,"form",23),e.NdJ("ngSubmit",function(){return n.createConfigSection()}),e.TgZ(30,"div",12)(31,"div",24)(32,"div",14)(33,"label"),e._uU(34,"help"),e.qZA(),e._UZ(35,"input",25),e.qZA()(),e.TgZ(36,"div",24)(37,"div",14)(38,"label"),e._uU(39,"Answering time"),e.qZA(),e._UZ(40,"input",26),e.qZA()(),e.TgZ(41,"div",24)(42,"div",14)(43,"label"),e._uU(44,"grading"),e.qZA(),e.TgZ(45,"select",27),e.YNc(46,ct,2,2,"option",28),e.qZA()()(),e.TgZ(47,"div",29)(48,"div",30),e._UZ(49,"input",31),e.TgZ(50,"label",32),e._uU(51,"show count down"),e.qZA()()(),e.TgZ(52,"div",29)(53,"div",30),e._UZ(54,"input",33),e.TgZ(55,"label",32),e._uU(56,"show correct answer"),e.qZA()()(),e.TgZ(57,"div",20)(58,"button",34),e._uU(59," save configration "),e.qZA()()()()()),2&t){let o;e.xp6(15),e.Q6J("formGroup",n.singleMcqForm),e.xp6(7),e.Q6J("ngIf",(null==(o=n.singleMcqForm.get("question"))?null:o.invalid)&&(null==(o=n.singleMcqForm.get("question"))?null:o.touched)),e.xp6(2),e.Q6J("ngIf",n.invalidScore),e.xp6(1),e.Q6J("ngForOf",n.choices.controls),e.xp6(2),e.Q6J("ngIf",n.choices.controls.length),e.xp6(1),e.Akn(e.DdM(13,ut)),e.Q6J("visible",n.display)("draggable",!1)("modal",!0),e.xp6(1),e.Q6J("formGroup",n.configForm),e.xp6(17),e.Q6J("ngForOf",n.gradingOptions),e.xp6(12),e.Q6J("disabled",n.configForm.invalid)}},dependencies:[d.sg,d.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s.JJ,s.JL,s.sg,s.u,s.CE,p.V]}),i})();function pt(i,l){1&i&&(e.TgZ(0,"span",36),e._uU(1," question is required "),e.qZA())}function _t(i,l){if(1&i&&(e.TgZ(0,"div",34),e.YNc(1,pt,2,0,"span",35),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.multiMcqForm.get("question"))||null==n.errors?null:n.errors.required)}}function mt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw();return e.KtG(r.deleteChoice(o))}),e.O4$(),e.TgZ(1,"svg",3),e._UZ(2,"path",4),e.qZA()()}}function ht(i,l){1&i&&(e.TgZ(0,"span",36),e._uU(1," choice is required "),e.qZA())}function gt(i,l){if(1&i&&(e.TgZ(0,"div",34),e.YNc(1,ht,2,0,"span",35),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("choice"))||null==n.errors?null:n.errors.required)}}function ft(i,l){1&i&&(e.TgZ(0,"span",36),e._uU(1," score is required "),e.qZA())}function vt(i,l){if(1&i&&(e.TgZ(0,"div",34),e.YNc(1,ft,2,0,"span",35),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("score"))||null==n.errors?null:n.errors.required)}}function xt(i,l){1&i&&(e.TgZ(0,"span",36),e._uU(1," score must be less than 1000 "),e.qZA())}function Tt(i,l){if(1&i&&(e.TgZ(0,"div",34),e.YNc(1,xt,2,0,"span",35),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("score"))||null==n.errors?null:n.errors.pattern)}}function Zt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",37),e.NdJ("submit",function(o){return o.preventDefault()}),e.TgZ(2,"div",12)(3,"div",13)(4,"div",1),e.YNc(5,mt,3,0,"a",38),e.qZA()()(),e.TgZ(6,"div",12)(7,"div",39)(8,"div",14)(9,"label"),e._uU(10,"choice"),e.qZA(),e.TgZ(11,"input",40),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateLocalData())}),e.qZA(),e.YNc(12,gt,2,1,"div",16),e.qZA()(),e.TgZ(13,"div",39)(14,"div",14)(15,"label"),e._uU(16,"score"),e.qZA(),e.TgZ(17,"input",41),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateLocalData())}),e.qZA(),e.YNc(18,vt,2,1,"div",16),e.YNc(19,Tt,2,1,"div",16),e.qZA()()()()()}if(2&i){const t=l.$implicit,n=e.oxw();let o,r,a;e.xp6(1),e.Q6J("formGroup",t),e.xp6(4),e.Q6J("ngIf",n.choices.controls.length>2),e.xp6(7),e.Q6J("ngIf",(null==(o=t.get("choice"))?null:o.invalid)&&(null==(o=t.get("choice"))?null:o.touched)),e.xp6(6),e.Q6J("ngIf",(null==(r=t.get("score"))?null:r.invalid)&&(null==(r=t.get("score"))?null:r.touched)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.get("score"))?null:a.invalid)&&(null==(a=t.get("score"))?null:a.touched))}}function Ct(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveQuestions())}),e._uU(1," save Question "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.multiMcqForm.invalid)}}function bt(i,l){if(1&i&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const qt=function(){return{width:"60vw"}};let wt=(()=>{class i{constructor(t,n){this.authToolService=t,this.fb=n,this.gradingOptions=["Manual","Auto","ungraded"],this.configForm=new s.cw({help:new s.NI(null,{updateOn:"change",validators:[]}),answeringTime:new s.NI(null,{updateOn:"change",validators:[s.kI.pattern("[0-9]{1,3}")]}),showCountdown:new s.NI(null,{updateOn:"change",validators:[]}),grading:new s.NI("Manual",{updateOn:"change",validators:[]}),showCorrectAnswer:new s.NI(null,{updateOn:"change",validators:[]})}),this.display=!1,this.multiMcqForm=this.fb.group({question:new s.NI(null,{updateOn:"change",validators:[s.kI.required]}),choices:this.fb.array([])})}ngOnInit(){this.createEmptyObjectToLocalStorege(),this.configForm.setValue(this.localObjects.config),this.setMultiQuestionForm()}newChoice(t=null){return this.fb.group({choice:[t?t.choice:null,s.kI.required],score:[t?t.score:null,[s.kI.required,s.kI.pattern("-?[0-9]{1,3}")]]})}displayConfig(){this.display=!0}createConfigSection(){this.configForm.invalid?this.configForm.markAllAsTouched():(this.authToolService.addDataToFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.localObjects,config:{...this.configForm.value}}}),this.display=!1)}createEmptyObjectToLocalStorege(){let t=this.authToolService.getFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex});t.config||(t.config=this.configForm.value,this.authToolService.updateLocalStorage()),t.data||(t.data={},this.authToolService.updateLocalStorage()),this.localObjects=t}deleteChoice(t){this.choices.removeAt(t),this.updateLocalData()}setMultiQuestionForm(){this.localObjects.data?.choices?.length?(this.multiMcqForm.get("question").setValue(this.localObjects.data.question),this.localObjects.data.choices.forEach(t=>{this.choices.push(this.newChoice(t))})):(this.addChoice(),this.addChoice())}addChoice(){this.choices.push(this.newChoice()),this.updateLocalData()}get choices(){return this.multiMcqForm.controls.choices}updateLocalData(){this.authToolService.addDataToFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.localObjects,data:this.multiMcqForm.value}})}deleteOpenQuestions(){this.authToolService.deleteItemFromFormColumnFrom({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex})}saveQuestions(){if(this.multiMcqForm.invalid)return void this.multiMcqForm.markAllAsTouched();let t=this.authToolService.newMultieMcqQuestion();t.config={...t.config,...this.configForm.value},t.content.data=this.multiMcqForm.value,this.authToolService.createSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.j),e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mcq-multi"]],inputs:{sectionIndex:"sectionIndex",columnIndex:"columnIndex",pushedIndex:"pushedIndex"},decls:59,vars:13,consts:[[1,"my-2","p-1","bg-content"],[1,"d-flex","justify-content-end"],[1,"mx-3","finger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-archive"],["d","M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-plus-circle-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"],[1,"blue"],[1,"lls-form",3,"formGroup","submit"],[1,"row"],[1,"col-md-10"],[1,"lls-form-group"],["type","text","formControlName","question",3,"input"],["class","errors-container",4,"ngIf"],["formArrayName","choices"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"disabled","click",4,"ngIf"],["header","configration",3,"visible","draggable","modal","visibleChange"],[1,"lls-form",3,"formGroup","ngSubmit"],[1,"col-md-4"],["type","text","formControlName","help"],["type","number","formControlName","answeringTime"],["type","text","formControlName","grading"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4","my-4"],[1,"d-flex","align-items-center"],["type","checkbox","formControlName","showCountdown",1,"w-auto","m-0","p-0"],[1,"mx-2"],["type","checkbox","formControlName","showCorrectAnswer",1,"w-auto","m-0","p-0"],["type","submit",1,"",3,"disabled"],[1,"errors-container"],["class","errors cairo-regular",4,"ngIf"],[1,"errors","cairo-regular"],[1,"my-3",3,"formGroup","submit"],["class","finger",3,"click",4,"ngIf"],[1,"col-md-5"],["type","test","formControlName","choice",3,"input"],["type","number","value","true","formControlName","score",3,"input"],[1,"finger",3,"click"],[3,"disabled","click"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(){return n.deleteOpenQuestions()}),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e.qZA()(),e.kcU(),e.TgZ(5,"a",2),e.NdJ("click",function(){return n.displayConfig()}),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"path",6)(8,"path",7),e.qZA()(),e.kcU(),e.TgZ(9,"a",2),e.NdJ("click",function(){return n.addChoice()}),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA()()(),e.kcU(),e.TgZ(12,"h3",10),e._uU(13,"Mcq Multi select:"),e.qZA(),e._UZ(14,"hr"),e.TgZ(15,"form",11),e.NdJ("submit",function(r){return r.preventDefault()}),e.TgZ(16,"div",12)(17,"div",13)(18,"div",14)(19,"label"),e._uU(20,"question"),e.qZA(),e.TgZ(21,"input",15),e.NdJ("input",function(){return n.updateLocalData()}),e.qZA(),e.YNc(22,_t,2,1,"div",16),e.qZA()()(),e.TgZ(23,"div",17),e.YNc(24,Zt,20,5,"div",18),e.TgZ(25,"div",19),e.YNc(26,Ct,2,1,"button",20),e.qZA()()()(),e.TgZ(27,"p-dialog",21),e.NdJ("visibleChange",function(r){return n.display=r}),e.TgZ(28,"form",22),e.NdJ("ngSubmit",function(){return n.createConfigSection()}),e.TgZ(29,"div",12)(30,"div",23)(31,"div",14)(32,"label"),e._uU(33,"help"),e.qZA(),e._UZ(34,"input",24),e.qZA()(),e.TgZ(35,"div",23)(36,"div",14)(37,"label"),e._uU(38,"Answering time"),e.qZA(),e._UZ(39,"input",25),e.qZA()(),e.TgZ(40,"div",23)(41,"div",14)(42,"label"),e._uU(43,"grading"),e.qZA(),e.TgZ(44,"select",26),e.YNc(45,bt,2,2,"option",27),e.qZA()()(),e.TgZ(46,"div",28)(47,"div",29),e._UZ(48,"input",30),e.TgZ(49,"label",31),e._uU(50,"show count down"),e.qZA()()(),e.TgZ(51,"div",28)(52,"div",29),e._UZ(53,"input",32),e.TgZ(54,"label",31),e._uU(55,"show correct answer"),e.qZA()()(),e.TgZ(56,"div",19)(57,"button",33),e._uU(58," save configration "),e.qZA()()()()()),2&t){let o;e.xp6(15),e.Q6J("formGroup",n.multiMcqForm),e.xp6(7),e.Q6J("ngIf",(null==(o=n.multiMcqForm.get("question"))?null:o.invalid)&&(null==(o=n.multiMcqForm.get("question"))?null:o.touched)),e.xp6(2),e.Q6J("ngForOf",n.choices.controls),e.xp6(2),e.Q6J("ngIf",n.choices.controls.length),e.xp6(1),e.Akn(e.DdM(12,qt)),e.Q6J("visible",n.display)("draggable",!1)("modal",!0),e.xp6(1),e.Q6J("formGroup",n.configForm),e.xp6(17),e.Q6J("ngForOf",n.gradingOptions),e.xp6(12),e.Q6J("disabled",n.configForm.invalid)}},dependencies:[d.sg,d.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s.JJ,s.JL,s.sg,s.u,s.CE,p.V]}),i})();function yt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw();return e.KtG(r.deleteQuestion(o))}),e.O4$(),e.TgZ(1,"svg",3),e._UZ(2,"path",4),e.qZA()()}}function It(i,l){1&i&&(e.TgZ(0,"span",47),e._uU(1," question is required "),e.qZA())}function At(i,l){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,It,2,0,"span",46),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("question"))||null==n.errors?null:n.errors.required)}}function Ft(i,l){1&i&&(e.TgZ(0,"span",47),e._uU(1," score is required "),e.qZA())}function Mt(i,l){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Ft,2,0,"span",46),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("score"))||null==n.errors?null:n.errors.required)}}function Ot(i,l){1&i&&(e.TgZ(0,"span",47),e._uU(1," score must be less than 1000 "),e.qZA())}function St(i,l){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Ot,2,0,"span",46),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("score"))||null==n.errors?null:n.errors.pattern)}}function Ut(i,l){1&i&&(e.TgZ(0,"span",47),e._uU(1," answer is required "),e.qZA())}function Nt(i,l){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Ut,2,0,"span",46),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("answer"))||null==n.errors?null:n.errors.required)}}function Jt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",30),e.NdJ("submit",function(o){return o.preventDefault()}),e.TgZ(2,"div",17)(3,"div",31)(4,"div",32),e.YNc(5,yt,3,0,"a",33),e.qZA()()(),e.TgZ(6,"div",17)(7,"div",31)(8,"div",34)(9,"label"),e._uU(10,"question"),e.qZA(),e.TgZ(11,"input",35),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateLocalData())}),e.qZA(),e.YNc(12,At,2,1,"div",36),e.qZA()(),e.TgZ(13,"div",37)(14,"div",34)(15,"label"),e._uU(16,"score"),e.qZA(),e.TgZ(17,"input",38),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateLocalData())}),e.qZA(),e.YNc(18,Mt,2,1,"div",36),e.YNc(19,St,2,1,"div",36),e.qZA()()(),e.TgZ(20,"div",17)(21,"div",31)(22,"div",39)(23,"div",34)(24,"label"),e._uU(25,"answer"),e.qZA()(),e.TgZ(26,"div",23)(27,"input",40),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateLocalData())}),e.qZA(),e.TgZ(28,"label",41),e._uU(29,"False"),e.qZA()(),e.TgZ(30,"div",42)(31,"input",43),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateLocalData())}),e.qZA(),e.TgZ(32,"label",41),e._uU(33,"True "),e.qZA()(),e.YNc(34,Nt,2,1,"div",36),e.qZA()()(),e._UZ(35,"hr"),e.qZA()()}if(2&i){const t=l.$implicit,n=e.oxw();let o,r,a,c;e.xp6(1),e.Q6J("formGroup",t),e.xp6(4),e.Q6J("ngIf",n.questionsForm.controls.length>1),e.xp6(7),e.Q6J("ngIf",(null==(o=t.get("question"))?null:o.invalid)&&(null==(o=t.get("question"))?null:o.touched)),e.xp6(6),e.Q6J("ngIf",(null==(r=t.get("score"))?null:r.invalid)&&(null==(r=t.get("score"))?null:r.touched)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.get("score"))?null:a.invalid)&&(null==(a=t.get("score"))?null:a.touched)),e.xp6(15),e.Q6J("ngIf",(null==(c=t.get("answer"))?null:c.invalid)&&(null==(c=t.get("answer"))?null:c.touched))}}function kt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveQuestions())}),e._uU(1," save Questions "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.truOrFlaseForm.invalid)}}function Qt(i,l){if(1&i&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const Dt=function(){return{width:"60vw"}};let Yt=(()=>{class i{constructor(t,n){this.authToolService=t,this.fb=n,this.display=!1,this.gradingOptions=["Manual","Auto","ungraded"],this.configForm=new s.cw({help:new s.NI(null,{updateOn:"change",validators:[]}),answeringTime:new s.NI(null,{updateOn:"change",validators:[s.kI.pattern("[0-9]{1,3}")]}),showCountdown:new s.NI(null,{updateOn:"change",validators:[]}),grading:new s.NI("Manual",{updateOn:"change",validators:[]}),showCorrectAnswer:new s.NI(null,{updateOn:"change",validators:[]})}),this.truOrFlaseForm=this.fb.group({truOrFlase:this.fb.array([])})}ngOnInit(){this.createEmptyObjectToLocalStorege(),this.configForm.setValue(this.localObjects.config),this.setTrueOrFalseForm()}newQuestion(t=null){return this.fb.group({question:[t?t.question:null,s.kI.required],answer:[t?t.answer:null,s.kI.required],score:[t?t.score:null,[s.kI.required,s.kI.pattern("[0-9]{1,3}")]]})}displayConfig(){this.display=!0}createConfigSection(){this.configForm.invalid?this.configForm.markAllAsTouched():(this.authToolService.addDataToFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.localObjects,config:{...this.configForm.value}}}),this.display=!1)}createEmptyObjectToLocalStorege(){let t=this.authToolService.getFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex});t.config||(t.config=this.configForm.value,this.authToolService.updateLocalStorage()),t.data||(t.data=[],this.authToolService.updateLocalStorage()),this.localObjects=t}deleteQuestion(t){this.questionsForm.removeAt(t),this.updateLocalData()}setTrueOrFalseForm(){this.localObjects.data.length?this.localObjects.data.forEach(t=>{this.questionsForm.push(this.newQuestion(t))}):this.addQuestion()}addQuestion(){this.questionsForm.push(this.newQuestion()),this.updateLocalData()}get questionsForm(){return this.truOrFlaseForm.controls.truOrFlase}updateLocalData(){this.authToolService.addDataToFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.localObjects,data:[...this.questionsForm.value]}})}deleteTrueOrFalseQuestions(){this.authToolService.deleteItemFromFormColumnFrom({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex})}saveQuestions(){if(this.truOrFlaseForm.invalid)return void this.questionsForm.markAllAsTouched();let t=this.authToolService.newTrueOrFalse();t.config={...t.config,...this.configForm.value},this.questionsForm.value.forEach(n=>{t.content.data.push(n)}),this.authToolService.createSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.j),e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-true-false"]],inputs:{sectionIndex:"sectionIndex",columnIndex:"columnIndex",pushedIndex:"pushedIndex"},decls:51,vars:12,consts:[[1,"my-3","p-2","bg-content"],[1,"d-flex","align-items-center","justify-content-end","my-2"],[1,"mx-3","finger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-archive"],["d","M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-plus-circle-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"],[1,"lls-form",3,"formGroup","submit"],["formArrayName","truOrFlase",1,"lls-form-group"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"disabled","click",4,"ngIf"],["header","configration",3,"visible","draggable","modal","visibleChange"],[1,"lls-form",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-4"],[1,"lls-form-group"],["type","text","formControlName","help"],["type","number","formControlName","answeringTime"],[1,"row","my-3"],[1,"d-flex","align-items-center"],["type","checkbox","formControlName","showCountdown",1,"w-auto","m-0","p-0"],[1,"mx-3"],["type","checkbox","formControlName","showCorrectAnswer",1,"m-0","p-0","w-auto"],["type","text","formControlName","grading"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"",3,"disabled"],[1,"my-3",3,"formGroup","submit"],[1,"col-md-10"],[1,"d-flex","justify-content-end"],["class","finger",3,"click",4,"ngIf"],[1,"lls-form-group","my-2"],["type","text","formControlName","question",3,"input"],["class","errors-container",4,"ngIf"],[1,"col-md-2"],["type","number","value","true","formControlName","score",3,"input"],[1,""],["type","radio","value","false","formControlName","answer",1,"w-auto","m-0","p-0",3,"input"],[1,"mx-3","mb-0"],[1,"d-flex","my-1","align-items-center"],["type","radio","value","true","formControlName","answer",1,"w-auto","m-0","p-0",3,"input"],[1,"finger",3,"click"],[1,"errors-container"],["class","errors cairo-regular",4,"ngIf"],[1,"errors","cairo-regular"],[3,"disabled","click"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(){return n.deleteTrueOrFalseQuestions()}),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e.qZA()(),e.kcU(),e.TgZ(5,"a",2),e.NdJ("click",function(){return n.displayConfig()}),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"path",6)(8,"path",7),e.qZA()(),e.kcU(),e.TgZ(9,"a",2),e.NdJ("click",function(){return n.addQuestion()}),e.O4$(),e.TgZ(10,"svg",8),e._UZ(11,"path",9),e.qZA()()(),e.kcU(),e.TgZ(12,"form",10),e.NdJ("submit",function(r){return r.preventDefault()}),e.TgZ(13,"div",11),e.YNc(14,Jt,36,6,"div",12),e.TgZ(15,"div",13),e.YNc(16,kt,2,1,"button",14),e.qZA()()()(),e.TgZ(17,"p-dialog",15),e.NdJ("visibleChange",function(r){return n.display=r}),e.TgZ(18,"form",16),e.NdJ("ngSubmit",function(){return n.createConfigSection()}),e.TgZ(19,"div",17)(20,"div",18)(21,"div",19)(22,"label"),e._uU(23,"help"),e.qZA(),e._UZ(24,"input",20),e.qZA()(),e.TgZ(25,"div",18)(26,"div",19)(27,"label"),e._uU(28,"Answering time"),e.qZA(),e._UZ(29,"input",21),e.qZA()()(),e.TgZ(30,"div",22)(31,"div",18)(32,"div",23),e._UZ(33,"input",24),e.TgZ(34,"label",25),e._uU(35,"show count down"),e.qZA()()(),e.TgZ(36,"div",18)(37,"div",23),e._UZ(38,"input",26),e.TgZ(39,"label",25),e._uU(40,"show correct answer"),e.qZA()()()(),e.TgZ(41,"div",22)(42,"div",18)(43,"div",19)(44,"label"),e._uU(45,"grading"),e.qZA(),e.TgZ(46,"select",27),e.YNc(47,Qt,2,2,"option",28),e.qZA()()()(),e.TgZ(48,"div",13)(49,"button",29),e._uU(50," save configration "),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("formGroup",n.truOrFlaseForm),e.xp6(2),e.Q6J("ngForOf",n.questionsForm.controls),e.xp6(2),e.Q6J("ngIf",n.questionsForm.controls.length),e.xp6(1),e.Akn(e.DdM(11,Dt)),e.Q6J("visible",n.display)("draggable",!1)("modal",!0),e.xp6(1),e.Q6J("formGroup",n.configForm),e.xp6(29),e.Q6J("ngForOf",n.gradingOptions),e.xp6(2),e.Q6J("disabled",n.configForm.invalid))},dependencies:[d.sg,d.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s._,s.JJ,s.JL,s.sg,s.u,s.CE,p.V]}),i})();function Et(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"p-fileUpload",10),e.NdJ("uploadHandler",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.uploadFile(o))}),e.qZA()}2&i&&e.Q6J("customUpload",!0)("maxFileSize",3e7)}function Lt(i,l){if(1&i){const t=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"div")(1,"div",6)(2,"div",7)(3,"label"),e._uU(4,"Image Help"),e.qZA(),e.TgZ(5,"input",8),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.imageHelp=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateData())}),e.qZA()()(),e.TgZ(6,"p-fileUpload",9),e.NdJ("uploadHandler",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.uploadFile(o))}),e.qZA(),e.YNc(7,Et,1,2,"p-fileUpload",5),e._UZ(8,"app-forms-spinner"),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.imageHelp),e.xp6(1),e.Q6J("customUpload",!0)("maxFileSize",3e6),e.xp6(1),e.Q6J("ngIf",t.contentType==t.authToolService.videoType)}}function Ht(i,l){if(1&i){const t=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"p-fileUpload",10),e.NdJ("uploadHandler",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.uploadFile(o))}),e.qZA()}2&i&&e.Q6J("customUpload",!0)("maxFileSize",3e7)}function Gt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",6)(2,"div",11)(3,"editor",12),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.html=o)})("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getTextData())}),e.qZA(),e.TgZ(4,"div",13)(5,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createForm())}),e._uU(6," Add Section "),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("apiKey",t.authToolService.apiKey)("ngModel",t.html)("init",t.authToolService.configTextEditor)}}function Vt(i,l){1&i&&(e.TgZ(0,"span",25),e._uU(1,"Language is required"),e.qZA())}function jt(i,l){if(1&i&&(e.TgZ(0,"div",23),e.YNc(1,Vt,2,0,"span",24),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.codeForm.get("lang"))||null==n.errors?null:n.errors.required)}}function $t(i,l){1&i&&(e.TgZ(0,"span",25),e._uU(1,"code is required"),e.qZA())}function zt(i,l){if(1&i&&(e.TgZ(0,"div",23),e.YNc(1,$t,2,0,"span",24),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.codeForm.get("code"))||null==n.errors?null:n.errors.required)}}function Kt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",15),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createForm())}),e.TgZ(2,"div",11)(3,"div",16)(4,"div",7)(5,"label"),e._uU(6,"language"),e.qZA(),e.TgZ(7,"input",17),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateData())}),e.qZA(),e.YNc(8,jt,2,1,"div",18),e.qZA()()(),e.TgZ(9,"div",11)(10,"div",19)(11,"div",7)(12,"label"),e._uU(13,"code "),e.qZA(),e.TgZ(14,"textarea",20),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateData())}),e._uU(15,"            "),e.qZA(),e.YNc(16,zt,2,1,"div",18),e.qZA()(),e.TgZ(17,"div",21)(18,"button",22),e._uU(19," Add To section "),e.qZA()()()()()}if(2&i){const t=e.oxw();let n,o;e.xp6(1),e.Q6J("formGroup",t.codeForm),e.xp6(7),e.Q6J("ngIf",(null==(n=t.codeForm.get("lang"))?null:n.touched)&&(null==(n=t.codeForm.get("lang"))?null:n.invalid)),e.xp6(8),e.Q6J("ngIf",(null==(o=t.codeForm.get("code"))?null:o.touched)&&(null==(o=t.codeForm.get("code"))?null:o.invalid)),e.xp6(2),e.Q6J("disabled",t.codeForm.invalid)}}function Pt(i,l){1&i&&(e.TgZ(0,"span",25),e._uU(1,"iFrame is required"),e.qZA())}function Rt(i,l){if(1&i&&(e.TgZ(0,"div",23),e.YNc(1,Pt,2,0,"span",24),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.iframeForm.get("iFrame"))||null==n.errors?null:n.errors.required)}}function Bt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",15),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createForm())}),e.TgZ(2,"div",11)(3,"div",16)(4,"div",7)(5,"label"),e._uU(6,"Iframe"),e.qZA(),e.TgZ(7,"input",26),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateData())}),e.qZA(),e.YNc(8,Rt,2,1,"div",18),e.qZA()()(),e.TgZ(9,"div",11)(10,"div",21)(11,"button",22),e._uU(12," Add To section "),e.qZA()()()()()}if(2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("formGroup",t.iframeForm),e.xp6(7),e.Q6J("ngIf",(null==(n=t.iframeForm.get("iFrame"))?null:n.touched)&&(null==(n=t.iframeForm.get("iFrame"))?null:n.invalid)),e.xp6(3),e.Q6J("disabled",t.iframeForm.invalid)}}let Wt=(()=>{class i{constructor(t,n){this.authToolService=t,this.http=n,this.loading=!1,this.codeForm=new s.cw({lang:new s.NI(null,{updateOn:"change",validators:[s.kI.required]}),code:new s.NI(null,{updateOn:"change",validators:[s.kI.required]})}),this.iframeForm=new s.cw({iFrame:new s.NI(null,{updateOn:"change",validators:[s.kI.required,s.kI.pattern(/^[A-Za-z][A-Za-z\d.+-]*:\/*(?:\w+(?::\w+)?@)?[^\s/]+(?::\d+)?(?:\/[\w#!:.?+=&%@\-/]*)?$/)]})})}ngOnInit(){if(this.contentType==this.authToolService.textType){let t=this.authToolService.getFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex});t||(t={}),Object.keys(t).length&&(this.html=t.html)}if(this.contentType==this.authToolService.codeType){let t=this.authToolService.getFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex});t||(t={}),Object.keys(t).length&&this.codeForm.setValue(t)}if(this.contentType==this.authToolService.iframeType){let t=this.authToolService.getFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex});t||(t={}),Object.keys(t).length&&this.iframeForm.setValue(t)}}uploadFile(t){if(this.contentType==this.authToolService.imageType){let n=new FormData;n.append("imageUpload",t.files[0]),this.http.postRequest("/api/File/Image",n).subscribe({next:o=>{let r=this.authToolService.newIamgeContent();r.content.data={url:o.url},this.authToolService.createSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:r}),this.loading=!1},error:o=>{this.loading=!1}})}if(this.contentType==this.authToolService.videoType){let n=new FormData;n.append("imageUpload",t.files[0]),this.http.postRequest("/api/File/File",n).subscribe({next:o=>{let r=this.authToolService.newVideoContent();r.content.data={url:o.url},this.authToolService.createSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:r}),this.loading=!1},error:o=>{this.loading=!1}})}}createForm(){if(this.contentType==this.authToolService.codeType){if(this.codeForm.invalid)return void this.codeForm.markAllAsTouched();let t=this.authToolService.newCodeContent();t.content.data=this.codeForm.value,this.authToolService.createSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:t})}else if(this.contentType==this.authToolService.iframeType){if(this.iframeForm.invalid)return void this.iframeForm.markAllAsTouched();let t=this.authToolService.newIframeContent();t.content.data=this.iframeForm.value,this.authToolService.createSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:t})}else{let t=this.authToolService.newTextContent();t.content.data={html:this.html},this.authToolService.createSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:t})}}deleteItem(){this.authToolService.deleteItemFromFormColumnFrom({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex})}updateData(){this.contentType==this.authToolService.codeType?this.authToolService.addDataToFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.codeForm.value}}):this.contentType==this.authToolService.iframeType?this.authToolService.addDataToFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.iframeForm.value}}):this.contentType==this.authToolService.imageType&&this.authToolService.addDataToFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{url:"",help:this.imageHelp}})}getTextData(){this.authToolService.addDataToFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{html:this.html}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.j),e.Y36(y.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-content"]],inputs:{contentType:"contentType",sectionIndex:"sectionIndex",columnIndex:"columnIndex",pushedIndex:"pushedIndex"},decls:11,vars:5,consts:[[1,"bg-content","p-2","my-2"],[1,"d-flex","justify-content-end",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-archive"],["d","M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"],[4,"ngIf"],["accept","video/*","name","myfile[]",3,"customUpload","maxFileSize","uploadHandler",4,"ngIf"],[1,"lls-form"],[1,"lls-form-group"],["type","text",3,"ngModel","ngModelChange","input"],["accept","image/*","name","myfile[]",3,"customUpload","maxFileSize","uploadHandler"],["accept","video/*","name","myfile[]",3,"customUpload","maxFileSize","uploadHandler"],[1,"row"],["tagName","div","outputFormat","html",3,"apiKey","ngModel","init","ngModelChange","onChange"],[1,"my-3","text-center"],["type","submit",1,"blue-btn",3,"click"],[1,"lls-form",3,"formGroup","ngSubmit"],[1,"col-md-10"],["type","text","formControlName","lang",3,"input"],["class","errors-container",4,"ngIf"],[1,"col-md-12"],["type","text","formControlName","code",3,"input"],[1,"d-flex","justify-content-center"],["type","submit",1,"",3,"disabled"],[1,"errors-container"],["class","errors",4,"ngIf"],[1,"errors"],["type","text","formControlName","iFrame",3,"input"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div")(2,"a",1),e.NdJ("click",function(){return n.deleteItem()}),e.O4$(),e.TgZ(3,"svg",2),e._UZ(4,"path",3),e.qZA()()(),e.YNc(5,Lt,9,4,"div",4),e.YNc(6,Ht,1,2,"p-fileUpload",5),e.kcU(),e._UZ(7,"app-forms-spinner"),e.YNc(8,Gt,7,3,"div",4),e.YNc(9,Kt,20,4,"div",4),e.YNc(10,Bt,13,3,"div",4),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",n.contentType==n.authToolService.imageType),e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.videoType),e.xp6(2),e.Q6J("ngIf",n.contentType==n.authToolService.textType),e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.codeType),e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.iframeType))},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.On,I.Y,q.p,Z]}),i})();function Xt(i,l){1&i&&(e.TgZ(0,"span",35),e._uU(1," question is required "),e.qZA())}function en(i,l){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Xt,2,0,"span",34),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.questionForm.get("question"))||null==n.errors?null:n.errors.required)}}function tn(i,l){1&i&&(e.TgZ(0,"span",35),e._uU(1," answer is required "),e.qZA())}function nn(i,l){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,tn,2,0,"span",34),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.questionForm.get("answer"))||null==n.errors?null:n.errors.required)}}function on(i,l){1&i&&(e.TgZ(0,"span",35),e._uU(1," score is required "),e.qZA())}function ln(i,l){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,on,2,0,"span",34),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.questionForm.get("score"))||null==n.errors?null:n.errors.required)}}function sn(i,l){1&i&&(e.TgZ(0,"span",35),e._uU(1," score must be less than 1000 "),e.qZA())}function rn(i,l){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,sn,2,0,"span",34),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.questionForm.get("score"))||null==n.errors?null:n.errors.pattern)}}function an(i,l){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const cn=function(){return{width:"60vw"}};let un=(()=>{class i{constructor(t,n){this.authToolService=t,this.fb=n,this.display=!1,this.gradingOptions=["Manual","Auto","ungraded"],this.configForm=new s.cw({help:new s.NI(null,{updateOn:"change",validators:[]}),answeringTime:new s.NI(null,{updateOn:"change",validators:[s.kI.pattern("[0-9]{1,3}")]}),showCountdown:new s.NI(null,{updateOn:"change",validators:[]}),grading:new s.NI("Manual",{updateOn:"change",validators:[]}),showCorrectAnswer:new s.NI(null,{updateOn:"change",validators:[]})}),this.questionForm=new s.cw({question:new s.NI(null,{validators:[s.kI.required]}),answer:new s.NI(null,{validators:[s.kI.required]}),score:new s.NI(null,{validators:[s.kI.required,s.kI.pattern("[0-9]{1,3}")]})})}ngOnInit(){this.createEmptyObjectToLocalStorege(),this.configForm.setValue(this.localObjects.config),this.questionForm.setValue(this.localObjects.data)}displayConfig(){this.display=!0}createConfigSection(){this.configForm.invalid?this.configForm.markAllAsTouched():(this.authToolService.addDataToFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.localObjects,config:{...this.configForm.value}}}),this.display=!1)}createEmptyObjectToLocalStorege(){let t=this.authToolService.getFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex});t.config||(t.config=this.configForm.value,this.authToolService.updateLocalStorage()),t.data||(t.data=this.questionForm.value,this.authToolService.updateLocalStorage()),this.localObjects=t}updateLocalData(){this.authToolService.addDataToFormColum({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.localObjects,data:{...this.questionForm.value}}})}deleteOpenQuestions(){this.authToolService.deleteItemFromFormColumnFrom({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex})}saveQuestions(){if(this.questionForm.invalid)return void this.questionForm.markAllAsTouched();let t=this.authToolService.newOpenQuestion();t.config={...t.config,...this.configForm.value},t.content.data={...this.questionForm.value},this.authToolService.createSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.j),e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-open-question"]],inputs:{sectionIndex:"sectionIndex",columnIndex:"columnIndex",pushedIndex:"pushedIndex"},decls:69,vars:15,consts:[[1,"my-2","p-1","bg-content"],[1,"d-flex","justify-content-end","mt-2"],[1,"mx-3","finger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-archive"],["d","M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"],[1,"blue"],[1,"lls-form",3,"formGroup","submit"],[1,"row"],[1,"col-md-10"],[1,"lls-form-group"],["type","text","formControlName","question",3,"input"],["class","errors-container",4,"ngIf"],[1,"col-md-5"],["type","test","formControlName","answer",3,"input"],["type","number","value","true","formControlName","score",3,"input"],[1,"d-flex","justify-content-center"],[3,"disabled","click"],["header","configration",3,"visible","draggable","modal","visibleChange"],[1,"lls-form",3,"formGroup","ngSubmit"],[1,"col-md-4"],["type","text","formControlName","help"],["type","number","formControlName","answeringTime"],["type","text","formControlName","grading"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4","my-4"],[1,"d-flex","align-items-center"],["type","checkbox","formControlName","showCountdown",1,"w-auto","m-0","p-0"],[1,"mx-2"],["type","checkbox","formControlName","showCorrectAnswer",1,"w-auto","m-0","p-0"],["type","submit",1,"",3,"disabled"],[1,"errors-container"],["class","errors cairo-regular",4,"ngIf"],[1,"errors","cairo-regular"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(){return n.deleteOpenQuestions()}),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e.qZA()(),e.kcU(),e.TgZ(5,"a",2),e.NdJ("click",function(){return n.displayConfig()}),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"path",6)(8,"path",7),e.qZA()()(),e.kcU(),e.TgZ(9,"h3",8),e._uU(10,"Open Question:"),e.qZA(),e._UZ(11,"hr"),e.TgZ(12,"form",9),e.NdJ("submit",function(r){return r.preventDefault()}),e.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"label"),e._uU(17,"question"),e.qZA(),e.TgZ(18,"input",13),e.NdJ("input",function(){return n.updateLocalData()}),e.qZA(),e.YNc(19,en,2,1,"div",14),e.qZA()()(),e.TgZ(20,"div",10)(21,"div",15)(22,"div",12)(23,"label"),e._uU(24,"answer"),e.qZA(),e.TgZ(25,"input",16),e.NdJ("input",function(){return n.updateLocalData()}),e.qZA(),e.YNc(26,nn,2,1,"div",14),e.qZA()(),e.TgZ(27,"div",15)(28,"div",12)(29,"label"),e._uU(30,"score"),e.qZA(),e.TgZ(31,"input",17),e.NdJ("input",function(){return n.updateLocalData()}),e.qZA(),e.YNc(32,ln,2,1,"div",14),e.YNc(33,rn,2,1,"div",14),e.qZA()(),e.TgZ(34,"div",18)(35,"button",19),e.NdJ("click",function(){return n.saveQuestions()}),e._uU(36," save Question "),e.qZA()()()()(),e.TgZ(37,"p-dialog",20),e.NdJ("visibleChange",function(r){return n.display=r}),e.TgZ(38,"form",21),e.NdJ("ngSubmit",function(){return n.createConfigSection()}),e.TgZ(39,"div",10)(40,"div",22)(41,"div",12)(42,"label"),e._uU(43,"help"),e.qZA(),e._UZ(44,"input",23),e.qZA()(),e.TgZ(45,"div",22)(46,"div",12)(47,"label"),e._uU(48,"Answering time"),e.qZA(),e._UZ(49,"input",24),e.qZA()(),e.TgZ(50,"div",22)(51,"div",12)(52,"label"),e._uU(53,"grading"),e.qZA(),e.TgZ(54,"select",25),e.YNc(55,an,2,2,"option",26),e.qZA()()(),e.TgZ(56,"div",27)(57,"div",28),e._UZ(58,"input",29),e.TgZ(59,"label",30),e._uU(60,"show count down"),e.qZA()()(),e.TgZ(61,"div",27)(62,"div",28),e._UZ(63,"input",31),e.TgZ(64,"label",30),e._uU(65,"show correct answer"),e.qZA()()(),e.TgZ(66,"div",18)(67,"button",32),e._uU(68," save configration "),e.qZA()()()()()),2&t){let o,r,a,c;e.xp6(12),e.Q6J("formGroup",n.questionForm),e.xp6(7),e.Q6J("ngIf",(null==(o=n.questionForm.get("question"))?null:o.invalid)&&(null==(o=n.questionForm.get("question"))?null:o.touched)),e.xp6(7),e.Q6J("ngIf",(null==(r=n.questionForm.get("answer"))?null:r.invalid)&&(null==(r=n.questionForm.get("answer"))?null:r.touched)),e.xp6(6),e.Q6J("ngIf",(null==(a=n.questionForm.get("score"))?null:a.invalid)&&(null==(a=n.questionForm.get("score"))?null:a.touched)),e.xp6(1),e.Q6J("ngIf",(null==(c=n.questionForm.get("score"))?null:c.invalid)&&(null==(c=n.questionForm.get("score"))?null:c.touched)),e.xp6(2),e.Q6J("disabled",n.questionForm.invalid),e.xp6(2),e.Akn(e.DdM(14,cn)),e.Q6J("visible",n.display)("draggable",!1)("modal",!0),e.xp6(1),e.Q6J("formGroup",n.configForm),e.xp6(17),e.Q6J("ngForOf",n.gradingOptions),e.xp6(12),e.Q6J("disabled",n.configForm.invalid)}},dependencies:[d.sg,d.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s.JJ,s.JL,s.sg,s.u,p.V]}),i})();var dn=u(1481);function pn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"div"),e._UZ(2,"img",8),e.qZA(),e.TgZ(3,"div",9)(4,"a",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editForm())}),e.O4$(),e.TgZ(5,"svg",11),e._UZ(6,"path",12)(7,"path",13),e.qZA()(),e.kcU(),e.TgZ(8,"a",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteItem())}),e.O4$(),e.TgZ(9,"svg",14),e._UZ(10,"path",15),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",t.data.content.data.url,e.LSH)("title",t.data.content.data.help)}}function _n(i,l){if(1&i&&(e.TgZ(0,"div")(1,"video",16),e._UZ(2,"source",17),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("src",t.data.content.data.url,e.LSH)}}function mn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",7),e.YNc(1,_n,3,1,"div",5),e.TgZ(2,"div",9)(3,"a",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editForm())}),e.O4$(),e.TgZ(4,"svg",11),e._UZ(5,"path",12)(6,"path",13),e.qZA()(),e.kcU(),e.TgZ(7,"a",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteItem())}),e.O4$(),e.TgZ(8,"svg",14),e._UZ(9,"path",15),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.data.content.data.url)}}function hn(i,l){if(1&i&&e._UZ(0,"iframe",21),2&i){const t=e.oxw(2);e.Q6J("src",t.iframeURl(),e.uOi)}}function gn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",18),e.YNc(1,hn,1,1,"iframe",19),e.TgZ(2,"div",20)(3,"a",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editForm())}),e.O4$(),e.TgZ(4,"svg",11),e._UZ(5,"path",12)(6,"path",13),e.qZA()(),e.kcU(),e.TgZ(7,"a",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteItem())}),e.O4$(),e.TgZ(8,"svg",14),e._UZ(9,"path",15),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.data.content.data.iFrame)}}function fn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23)(2,"div",24),e._UZ(3,"div",25),e.qZA(),e.TgZ(4,"div",9)(5,"a",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editForm())}),e.O4$(),e.TgZ(6,"svg",11),e._UZ(7,"path",12),e._uU(8,' fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z" /> '),e.qZA()(),e.kcU(),e.TgZ(9,"a",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteItem())}),e.O4$(),e.TgZ(10,"svg",14),e._UZ(11,"path",15),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("innerHTML",t.parseHtml(),e.oJD)}}function vn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",26)(4,"p",27),e._uU(5,"Language:"),e.qZA(),e.TgZ(6,"p",28),e._uU(7),e.qZA()()(),e.TgZ(8,"div",29)(9,"div",26)(10,"p",27),e._uU(11,"Code:"),e.qZA(),e.TgZ(12,"p",28),e._uU(13),e.qZA()()(),e.TgZ(14,"div",9)(15,"a",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editForm())}),e.O4$(),e.TgZ(16,"svg",11),e._UZ(17,"path",12)(18,"path",13),e.qZA()(),e.kcU(),e.TgZ(19,"a",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteItem())}),e.O4$(),e.TgZ(20,"svg",14),e._UZ(21,"path",15),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(7),e.Oqu(t.data.content.data.lang),e.xp6(6),e.Oqu(t.data.content.data.code)}}function xn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"editor",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.htmlEdit=o)}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("apiKey",t.authToolService.apiKey)("ngModel",t.htmlEdit)("init",t.authToolService.configTextEditor)}}function Tn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",22),e.YNc(2,xn,2,3,"div",30),e.TgZ(3,"button",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateForm())}),e._uU(4,"Edit"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.htmlEdit)}}function Zn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",33),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateForm())}),e.TgZ(2,"div",26)(3,"label"),e._uU(4,"language"),e.qZA(),e._UZ(5,"input",34),e.qZA(),e.TgZ(6,"div",26)(7,"label"),e._uU(8,"code "),e.qZA(),e.TgZ(9,"textarea",35),e._uU(10," "),e.qZA()(),e.TgZ(11,"button",36),e._uU(12,"Save"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.codeForm),e.xp6(10),e.Q6J("disabled",t.codeForm.invalid)}}function Cn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"p-fileUpload",44),e.NdJ("uploadHandler",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.uploadFile(o))}),e.qZA()}2&i&&e.Q6J("customUpload",!0)("maxFileSize",3e6)}function bn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",37)(1,"p",38),e._uU(2,"current image"),e.qZA(),e._UZ(3,"img",39),e.TgZ(4,"div",22)(5,"div",26)(6,"label"),e._uU(7,"Image Help"),e.qZA(),e.TgZ(8,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.imageHelp=o)}),e.qZA()()(),e.YNc(9,Cn,1,2,"p-fileUpload",41),e.TgZ(10,"div",42)(11,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveImageHelp())}),e._uU(12,"Save"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",t.data.content.data.url,e.LSH),e.xp6(5),e.Q6J("ngModel",t.imageHelp),e.xp6(1),e.Q6J("ngIf",t.contentType==t.authToolService.imageType&&t.enableUpload)}}function qn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",37)(1,"p",38),e._uU(2,"current video"),e.qZA(),e.TgZ(3,"video",45),e._UZ(4,"source",17),e.qZA(),e.TgZ(5,"p-fileUpload",46),e.NdJ("uploadHandler",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.uploadFile(o))}),e.qZA(),e._UZ(6,"app-forms-spinner"),e.qZA()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("src",t.data.content.data.url,e.LSH),e.xp6(1),e.Q6J("customUpload",!0)("maxFileSize",3e7)}}function wn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",33),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateForm())}),e.TgZ(2,"div",26)(3,"label"),e._uU(4,"Iframe"),e.qZA(),e._UZ(5,"input",47),e.qZA(),e.TgZ(6,"button",36),e._uU(7," Save "),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.iframeForm),e.xp6(5),e.Q6J("disabled",t.iframeForm.invalid)}}const yn=function(){return{width:"60vw"}};let In=(()=>{class i{constructor(t,n,o){this.authToolService=t,this.http=n,this.sanitized=o,this.contentType="",this.display=!1,this.loading=!1,this.enableUpload=!0,this.codeForm=new s.cw({lang:new s.NI(null,{updateOn:"change",validators:[s.kI.required]}),code:new s.NI(null,{updateOn:"change",validators:[s.kI.required]})}),this.html="",this.htmlEdit="",this.iframeForm=new s.cw({iFrame:new s.NI(null,{updateOn:"change",validators:[s.kI.required,s.kI.pattern(/^[A-Za-z][A-Za-z\d.+-]*:\/*(?:\w+(?::\w+)?@)?[^\s/]+(?::\d+)?(?:\/[\w#!:.?+=&%@\-/]*)?$/)]})}),this.imageHelp=""}ngOnInit(){this.contentType=this.data.type,this.contentType==this.authToolService.textType&&(this.html=this.data.content.data.html),this.contentType==this.authToolService.codeType&&this.codeForm.setValue(this.data.content.data),this.contentType==this.authToolService.iframeType&&this.iframeForm.setValue(this.data.content.data),this.contentType==this.authToolService.imageType&&(this.imageHelp=this.data.content.data.help)}parseHtml(){return this.sanitized.bypassSecurityTrustHtml(this.html)}iframeURl(){return this.sanitized.bypassSecurityTrustResourceUrl(this.data.content.data.iFrame)}updateForm(){if(this.contentType==this.authToolService.textType)this.html=this.htmlEdit,this.authToolService.updateSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{html:this.html}}),this.htmlEdit="";else if(this.contentType==this.authToolService.iframeType){if(this.iframeForm.invalid)return;this.authToolService.updateSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.iframeForm.value}})}else{if(this.codeForm.invalid)return;this.authToolService.updateSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.codeForm.value}})}this.display=!1}deleteItem(){this.authToolService.deleteSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex})}editForm(){this.contentType==this.authToolService.textType&&setTimeout(()=>{this.htmlEdit=this.html},40),this.display=!0,this.enableUpload=!0}uploadFile(t){let n="/api/File/File";this.contentType==this.authToolService.imageType&&(n="/api/File/Image");let o=new FormData;o.append("imageUpload",t.files[0]),this.http.postRequest(n,o).subscribe({next:r=>{let a={url:r.url};this.contentType==this.authToolService.imageType&&(a.help=this.imageHelp),this.authToolService.updateSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:a}),this.data.content.data.url="",setTimeout(()=>{this.data.content.data.url=r.url},60),t.files=[],this.loading=!1,this.display=!1,this.enableUpload=!1},error:r=>{this.loading=!1}})}closePopup(){this.contentType==this.authToolService.textType&&(this.htmlEdit="")}saveImageHelp(){this.authToolService.updateSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,content:{...this.data.content.data,help:this.imageHelp}}),this.display=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.j),e.Y36(y.O),e.Y36(dn.H7))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-content-display"]],inputs:{sectionIndex:"sectionIndex",columnIndex:"columnIndex",pushedIndex:"pushedIndex",data:"data"},decls:12,vars:16,consts:[["cdkDrag","",1,"p-1","my-1","hand"],["class","img-display d-flex justify-content-center flex-column text-center",4,"ngIf"],["class","img-display d-flex justify-content-center align-items-center flex-column text-center custom-iframe",4,"ngIf"],["class","lls-form",4,"ngIf"],["header","Edit",3,"visible","draggable","modal","visibleChange","onHide"],[4,"ngIf"],["class","img-display",4,"ngIf"],[1,"img-display","d-flex","justify-content-center","flex-column","text-center"],["width","200px","height","200px",3,"src","title"],[1,"d-flex","justify-content-end","align-items-center"],[1,"mx-2","finger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-archive"],["d","M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"],["controls","","width","300px","height","300px"],[3,"src"],[1,"img-display","d-flex","justify-content-center","align-items-center","flex-column","text-center","custom-iframe"],["width","560","height","315","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","allowfullscreen","",3,"src",4,"ngIf"],[1,"d-flex","justify-content-end","align-items-center","w-100"],["width","560","height","315","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","allowfullscreen","",3,"src"],[1,"lls-form"],[1,"row"],[1,"col-md-10"],["stype","background-color:#fff",1,"lls-form-group",3,"innerHTML"],[1,"lls-form-group"],[1,"form-label"],[1,"form-input"],[1,"col-md-12"],["class","lls-form-group",4,"ngIf"],["type","submit",3,"click"],["tagName","div","outputFormat","html",3,"apiKey","ngModel","init","ngModelChange"],[1,"lls-form",3,"formGroup","ngSubmit"],["type","text","formControlName","lang"],["type","text","formControlName","code"],["type","submit",1,"",3,"disabled"],[1,"img-display"],[1,"mb-2"],["width","100px","height","100px",1,"my-2",3,"src"],["type","text",3,"ngModel","ngModelChange"],["accept","image/*","name","myfile[]",3,"customUpload","maxFileSize","uploadHandler",4,"ngIf"],[1,"lls-form","my-2"],[1,"",3,"click"],["accept","image/*","name","myfile[]",3,"customUpload","maxFileSize","uploadHandler"],["controls","","width","200px","height","200px"],["accept","video/*","name","myfile[]",3,"customUpload","maxFileSize","uploadHandler"],["type","text","formControlName","iFrame"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0),e.YNc(1,pn,11,2,"div",1),e.YNc(2,mn,10,1,"div",1),e.YNc(3,gn,10,1,"div",2),e.YNc(4,fn,12,1,"div",3),e.YNc(5,vn,22,2,"div",3),e.qZA(),e.TgZ(6,"p-dialog",4),e.NdJ("visibleChange",function(r){return n.display=r})("onHide",function(){return n.closePopup()}),e.YNc(7,Tn,5,1,"div",5),e.YNc(8,Zn,13,2,"div",5),e.YNc(9,bn,13,3,"div",6),e.YNc(10,qn,7,3,"div",6),e.YNc(11,wn,8,2,"div",5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.imageType),e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.videoType),e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.iframeType),e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.textType),e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.codeType),e.xp6(1),e.Akn(e.DdM(15,yn)),e.Q6J("visible",n.display)("draggable",!1)("modal",!0),e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.textType),e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.codeType),e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.imageType),e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.videoType&&n.enableUpload),e.xp6(1),e.Q6J("ngIf",n.contentType==n.authToolService.iframeType))},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.On,I.Y,p.V,q.p,m.Zt,Z],styles:[".img-display[_ngcontent-%COMP%]{overflow:hidden}.img-display[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px;object-fit:cover}.img-display[_ngcontent-%COMP%]:hover{overflow:hidden;border-radius:10px}.img-display[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}"]}),i})();function An(i,l){if(1&i&&(e.TgZ(0,"div",42)(1,"div",43)(2,"div",44)(3,"p",45),e._uU(4),e.TgZ(5,"span",13),e._uU(6),e.qZA()()()()()),2&i){const t=l.$implicit;e.xp6(4),e.hij(" ",t.question," "),e.xp6(2),e.hij("(",t.answer,")")}}function Fn(i,l){if(1&i&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Mn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw();return e.KtG(r.deleteQuestion(o))}),e.O4$(),e.TgZ(1,"svg",5),e._UZ(2,"path",6),e.qZA()()}}function On(i,l){1&i&&(e.TgZ(0,"span",62),e._uU(1," question is required "),e.qZA())}function Sn(i,l){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,On,2,0,"span",61),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("question"))||null==n.errors?null:n.errors.required)}}function Un(i,l){1&i&&(e.TgZ(0,"span",62),e._uU(1," score is required "),e.qZA())}function Nn(i,l){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,Un,2,0,"span",61),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("score"))||null==n.errors?null:n.errors.required)}}function Jn(i,l){1&i&&(e.TgZ(0,"span",62),e._uU(1," score must be less than 1000 "),e.qZA())}function kn(i,l){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,Jn,2,0,"span",61),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("score"))||null==n.errors?null:n.errors.pattern)}}function Qn(i,l){1&i&&(e.TgZ(0,"span",62),e._uU(1," answer is required "),e.qZA())}function Dn(i,l){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,Qn,2,0,"span",61),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("answer"))||null==n.errors?null:n.errors.required)}}function Yn(i,l){if(1&i&&(e.TgZ(0,"div")(1,"form",47),e.NdJ("submit",function(n){return n.preventDefault()}),e.TgZ(2,"div",24)(3,"div",48)(4,"div",34),e.YNc(5,Mn,3,0,"a",49),e.qZA()()(),e.TgZ(6,"div",24)(7,"div",50)(8,"div",16)(9,"label"),e._uU(10,"question"),e.qZA(),e._UZ(11,"input",51),e.YNc(12,Sn,2,1,"div",52),e.qZA()(),e.TgZ(13,"div",15)(14,"div",16)(15,"label"),e._uU(16,"score"),e.qZA(),e._UZ(17,"input",53),e.YNc(18,Nn,2,1,"div",52),e.YNc(19,kn,2,1,"div",52),e.qZA()(),e.TgZ(20,"div",50)(21,"div",54)(22,"div",16)(23,"label"),e._uU(24,"answer"),e.qZA()(),e.TgZ(25,"div",29),e._UZ(26,"input",55),e.TgZ(27,"label",56),e._uU(28,"False"),e.qZA()(),e.TgZ(29,"div",57),e._UZ(30,"input",58),e.TgZ(31,"label",56),e._uU(32,"True"),e.qZA()(),e.YNc(33,Dn,2,1,"div",52),e.qZA()()()(),e._UZ(34,"hr"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw();let o,r,a,c;e.xp6(1),e.Q6J("formGroup",t),e.xp6(4),e.Q6J("ngIf",n.questionsForm.controls.length>1),e.xp6(7),e.Q6J("ngIf",(null==(o=t.get("question"))?null:o.invalid)&&(null==(o=t.get("question"))?null:o.touched)),e.xp6(6),e.Q6J("ngIf",(null==(r=t.get("score"))?null:r.invalid)&&(null==(r=t.get("score"))?null:r.touched)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.get("score"))?null:a.invalid)&&(null==(a=t.get("score"))?null:a.touched)),e.xp6(14),e.Q6J("ngIf",(null==(c=t.get("answer"))?null:c.invalid)&&(null==(c=t.get("answer"))?null:c.touched))}}function En(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveQuestions())}),e._uU(1," save "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.truOrFlaseForm.invalid||t.configForm.invalid)}}const Ln=function(){return{width:"60vw"}};let Hn=(()=>{class i{constructor(t,n){this.authToolService=t,this.fb=n,this.display=!1,this.gradingOptions=["Manual","Auto","ungraded"],this.configForm=new s.cw({help:new s.NI(null,{updateOn:"change",validators:[]}),answeringTime:new s.NI(null,{updateOn:"change",validators:[s.kI.pattern("[0-9]{1,3}")]}),showCountdown:new s.NI(null,{updateOn:"change",validators:[]}),grading:new s.NI("Manual",{updateOn:"change",validators:[]}),showCorrectAnswer:new s.NI(null,{updateOn:"change",validators:[]})}),this.truOrFlaseForm=this.fb.group({truOrFlase:this.fb.array([])})}ngOnInit(){this.configForm.setValue(this.data.config),this.setTrueOrFalseFom()}setTrueOrFalseFom(){this.data.content.data.forEach(t=>{this.questionsForm.push(this.newQuestion(t))})}newQuestion(t=null){return this.fb.group({question:[t?t.question:null,s.kI.required],answer:[t?t.answer:null,s.kI.required],score:[t?t.score:null,[s.kI.required,s.kI.pattern("[0-9]{1,3}")]]})}displayConfig(){this.display=!0}setConfigForm(){}deleteQuestion(t){this.questionsForm.removeAt(t)}addQuestion(){this.questionsForm.push(this.newQuestion())}get questionsForm(){return this.truOrFlaseForm.controls.truOrFlase}saveQuestions(){this.truOrFlaseForm.invalid||this.configForm.invalid||(this.authToolService.updateSelectionQuestionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,config:this.configForm.value,content:this.questionsForm.value}),this.data.config=this.configForm.value,this.data.content.data=this.questionsForm.value,this.display=!1)}deleteQuestionSelection(){this.authToolService.deleteSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex})}drangAndDropContent(t){this.authToolService.changeContentOfColumnPosition({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,event:t}),this.questionsForm.setValue(this.data.content.data)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.j),e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-true-false-display"]],inputs:{sectionIndex:"sectionIndex",columnIndex:"columnIndex",pushedIndex:"pushedIndex",data:"data"},decls:86,vars:15,consts:[["cdkDrag","",1,"my-2","hand"],[1,"d-flex","justify-content-end","align-items-center"],[1,"mx-2","finger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-archive"],["d","M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"],[1,"accordion-item"],["id","headingT",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseT","aria-expanded","false","aria-controls","collapseT",1,"my-2","mx-2","px-1","blue-btn"],["id","collapseT","aria-labelledby","headingT","data-bs-parent","#accordionExamp",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"lls-form"],[1,"blue"],[1,"row","my-2"],[1,"col-md-4"],[1,"lls-form-group"],[1,"form-label"],[1,"form-input"],["cdkDropList","",1,"p-1",3,"cdkDropListDropped"],["class","p-1 hand","cdkDrag","",4,"ngFor","ngForOf"],["header","edit",3,"visible","draggable","modal","visibleChange"],[1,"grey"],[1,"lls-form",3,"formGroup","ngSubmit"],[1,"row"],["type","text","formControlName","help"],["type","number","formControlName","answeringTime"],["type","text","formControlName","grading"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],["type","checkbox","formControlName","showCountdown",1,"w-auto","m-0","p-0"],[1,"mx-3"],["type","checkbox","formControlName","showCorrectAnswer",1,"w-auto","m-0","p-0"],[1,"lls-form",3,"formGroup","submit"],[1,"d-flex","justify-content-end"],[1,"mx-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-plus-circle-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"],["formArrayName","truOrFlase"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["class","blue-btn",3,"disabled","click",4,"ngIf"],["cdkDrag","",1,"p-1","hand"],[1,"lls-form","my-1"],[1,"lls-form-group","my-1"],[1,"form-input","my-0"],[3,"value"],[1,"my-3",3,"formGroup","submit"],[1,"col-12"],[3,"click",4,"ngIf"],[1,"col-md-8"],["type","text","formControlName","question"],["class","errors-container",4,"ngIf"],["type","number","value","true","formControlName","score"],[1,""],["type","radio","value","false","formControlName","answer",1,"w-auto","m-0","p-0"],[1,"mx-2"],[1,"d-flex"],["type","radio","value","true","formControlName","answer",1,"w-auto","m-0","p-0"],[3,"click"],[1,"errors-container"],["class","errors cairo-regular",4,"ngIf"],[1,"errors","cairo-regular"],[1,"blue-btn",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(){return n.displayConfig()}),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e._uU(5,' fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z" /> '),e.qZA()(),e.kcU(),e.TgZ(6,"a",2),e.NdJ("click",function(){return n.deleteQuestionSelection()}),e.O4$(),e.TgZ(7,"svg",5),e._UZ(8,"path",6),e.qZA()()(),e.kcU(),e.TgZ(9,"div",7)(10,"h2",8)(11,"button",9)(12,"span"),e._uU(13," Configration "),e.qZA()()(),e.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"h5",13),e._uU(18,"configration"),e.qZA(),e.TgZ(19,"div",14)(20,"div",15)(21,"div",16)(22,"p",17),e._uU(23,"time:"),e.qZA(),e.TgZ(24,"p",18),e._uU(25),e.qZA()()(),e.TgZ(26,"div",15)(27,"div",16)(28,"p",17),e._uU(29,"grading:"),e.qZA(),e.TgZ(30,"p",18),e._uU(31),e.qZA()()(),e.TgZ(32,"div",15)(33,"div",16)(34,"p",17),e._uU(35,"Help Text:"),e.qZA(),e.TgZ(36,"p",18),e._uU(37),e.qZA()()()()()()()(),e.TgZ(38,"h5",13),e._uU(39,"questions"),e.qZA(),e.TgZ(40,"div",19),e.NdJ("cdkDropListDropped",function(r){return n.drangAndDropContent(r)}),e.YNc(41,An,7,2,"div",20),e.qZA()(),e.TgZ(42,"p-dialog",21),e.NdJ("visibleChange",function(r){return n.display=r}),e.TgZ(43,"h3",22),e._uU(44,"configration"),e.qZA(),e.TgZ(45,"form",23),e.NdJ("ngSubmit",function(r){return r.preventDefault()}),e.TgZ(46,"div",24)(47,"div",15)(48,"div",16)(49,"label"),e._uU(50,"help"),e.qZA(),e._UZ(51,"input",25),e.qZA()(),e.TgZ(52,"div",15)(53,"div",16)(54,"label"),e._uU(55,"Answering time"),e.qZA(),e._UZ(56,"input",26),e.qZA()(),e.TgZ(57,"div",15)(58,"div",16)(59,"label"),e._uU(60,"grading"),e.qZA(),e.TgZ(61,"select",27),e.YNc(62,Fn,2,2,"option",28),e.qZA()()(),e.TgZ(63,"div",15)(64,"div",29),e._UZ(65,"input",30),e.TgZ(66,"label",31),e._uU(67,"show count down"),e.qZA()()(),e.TgZ(68,"div",15)(69,"div",29),e._UZ(70,"input",32),e.TgZ(71,"label",31),e._uU(72,"show correct answer"),e.qZA()()()()(),e._UZ(73,"hr"),e.TgZ(74,"h3",13),e._uU(75,"questions"),e.qZA(),e.TgZ(76,"form",33),e.NdJ("submit",function(r){return r.preventDefault()}),e.TgZ(77,"div",34)(78,"a",35),e.NdJ("click",function(){return n.addQuestion()}),e.O4$(),e.TgZ(79,"svg",36),e._UZ(80,"path",37),e.qZA()()(),e.kcU(),e.TgZ(81,"div",38),e.YNc(82,Yn,35,6,"div",39),e.qZA()(),e._UZ(83,"hr"),e.TgZ(84,"div",40),e.YNc(85,En,2,1,"button",41),e.qZA()()),2&t&&(e.xp6(25),e.Oqu(n.data.config.answeringTime),e.xp6(6),e.Oqu(n.data.config.grading),e.xp6(6),e.Oqu(n.data.config.help),e.xp6(4),e.Q6J("ngForOf",n.data.content.data),e.xp6(1),e.Akn(e.DdM(14,Ln)),e.Q6J("visible",n.display)("draggable",!1)("modal",!0),e.xp6(3),e.Q6J("formGroup",n.configForm),e.xp6(17),e.Q6J("ngForOf",n.gradingOptions),e.xp6(14),e.Q6J("formGroup",n.truOrFlaseForm),e.xp6(6),e.Q6J("ngForOf",n.questionsForm.controls),e.xp6(3),e.Q6J("ngIf",n.questionsForm.controls.length))},dependencies:[d.sg,d.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s._,s.JJ,s.JL,s.sg,s.u,s.CE,p.V,m.Wj,m.Zt],styles:["button[_ngcontent-%COMP%]{font-size:16px}"]}),i})();function Gn(i,l){if(1&i&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Vn(i,l){1&i&&(e.TgZ(0,"span",42),e._uU(1," question is required "),e.qZA())}function jn(i,l){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,Vn,2,0,"span",41),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.questionForm.get("question"))||null==n.errors?null:n.errors.required)}}function $n(i,l){1&i&&(e.TgZ(0,"span",42),e._uU(1," answer is required "),e.qZA())}function zn(i,l){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,$n,2,0,"span",41),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.questionForm.get("answer"))||null==n.errors?null:n.errors.required)}}function Kn(i,l){1&i&&(e.TgZ(0,"span",42),e._uU(1," score is required "),e.qZA())}function Pn(i,l){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,Kn,2,0,"span",41),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.questionForm.get("score"))||null==n.errors?null:n.errors.required)}}function Rn(i,l){1&i&&(e.TgZ(0,"span",42),e._uU(1," score must be less than 1000 "),e.qZA())}function Bn(i,l){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,Rn,2,0,"span",41),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.questionForm.get("score"))||null==n.errors?null:n.errors.pattern)}}const Wn=function(){return{width:"60vw"}};let Xn=(()=>{class i{constructor(t,n){this.authToolService=t,this.fb=n,this.display=!1,this.gradingOptions=["Manual","Auto","ungraded"],this.configForm=new s.cw({help:new s.NI(null,{updateOn:"change",validators:[]}),answeringTime:new s.NI(null,{updateOn:"change",validators:[s.kI.pattern("[0-9]{1,3}")]}),showCountdown:new s.NI(null,{updateOn:"change",validators:[]}),grading:new s.NI("Manual",{updateOn:"change",validators:[]}),showCorrectAnswer:new s.NI(null,{updateOn:"change",validators:[]})}),this.questionForm=new s.cw({question:new s.NI(null,{validators:[s.kI.required]}),answer:new s.NI(null,{validators:[s.kI.required]}),score:new s.NI(null,{validators:[s.kI.required,s.kI.pattern("[0-9]{1,3}")]})})}ngOnInit(){this.configForm.setValue(this.data.config),this.questionForm.setValue(this.data.content.data)}newQuestion(t=null){return this.fb.group({question:[t?t.question:null,s.kI.required],answer:[t?t.answer:null,s.kI.required],score:[t?t.score:null,[s.kI.required,s.kI.pattern("[0-9]{1,3}")]]})}displayConfig(){this.display=!0}saveQuestions(){this.questionForm.invalid||this.configForm.invalid||(this.authToolService.updateSelectionQuestionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,config:this.configForm.value,content:this.questionForm.value}),this.data.config=this.configForm.value,this.data.content.data=this.questionForm.value,this.display=!1)}deleteQuestionSelection(){this.authToolService.deleteSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex})}drangAndDropContent(t){this.authToolService.changeContentOfColumnPosition({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,event:t}),this.questionForm.setValue(this.data.content.data)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.j),e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-open-question-display"]],inputs:{sectionIndex:"sectionIndex",columnIndex:"columnIndex",pushedIndex:"pushedIndex",data:"data"},decls:107,vars:19,consts:[["cdkDrag","",1,"hand"],[1,"d-flex","justify-content-end","align-items-center","mt-2"],[1,"mx-2","finger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-archive"],["d","M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"],[1,"accordion-item"],["id","headingOn",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOn","aria-expanded","false","aria-controls","collapseOn",1,"my-2","blue-btn","px-1","mx-2"],["id","collapseOn","aria-labelledby","headingOn","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"lls-form"],[1,"blue"],[1,"row","my-2"],[1,"col-md-4"],[1,"lls-form-group"],[1,"form-label"],[1,"form-input"],[1,"row"],[1,"col-md-10"],["header","edit",3,"visible","draggable","modal","visibleChange"],[1,"lls-form",3,"formGroup","ngSubmit"],["type","text","formControlName","help"],["type","number","formControlName","answeringTime"],["type","text","formControlName","grading"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],["type","checkbox","formControlName","showCountdown",1,"w-auto","p-0","m-0"],[1,"mx-2"],["type","checkbox","formControlName","showCorrectAnswer",1,"w-auto","p-0","m-0"],[1,"lls-form",3,"formGroup","submit"],[1,"col-md-8"],["type","text","formControlName","question"],["class","errors-container",4,"ngIf"],["type","test","formControlName","answer"],["type","number","value","true","formControlName","score"],[1,"d-flex","justify-content-center"],[3,"disabled","click"],[3,"value"],[1,"errors-container"],["class","errors cairo-regular",4,"ngIf"],[1,"errors","cairo-regular"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(){return n.displayConfig()}),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e._uU(5,' fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z" /> '),e.qZA()(),e.kcU(),e.TgZ(6,"a",2),e.NdJ("click",function(){return n.deleteQuestionSelection()}),e.O4$(),e.TgZ(7,"svg",5),e._UZ(8,"path",6),e.qZA()()(),e.kcU(),e.TgZ(9,"div",7)(10,"h2",8)(11,"button",9)(12,"span"),e._uU(13," Configration "),e.qZA()()(),e.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"h5",13),e._uU(18,"configration"),e.qZA(),e.TgZ(19,"div",14)(20,"div",15)(21,"div",16)(22,"p",17),e._uU(23,"time:"),e.qZA(),e.TgZ(24,"p",18),e._uU(25),e.qZA()()(),e.TgZ(26,"div",15)(27,"div",16)(28,"p",17),e._uU(29,"grading:"),e.qZA(),e.TgZ(30,"p",18),e._uU(31),e.qZA()()(),e.TgZ(32,"div",15)(33,"div",16)(34,"p",17),e._uU(35,"Help Text:"),e.qZA(),e.TgZ(36,"p",18),e._uU(37),e.qZA()()()()()()()(),e._UZ(38,"hr"),e.TgZ(39,"h5",13),e._uU(40,"question"),e.qZA(),e.TgZ(41,"div",12)(42,"div",19)(43,"div",20)(44,"div",16)(45,"p",18),e._uU(46),e.TgZ(47,"span",13),e._uU(48),e.qZA()()()()()()(),e.TgZ(49,"p-dialog",21),e.NdJ("visibleChange",function(r){return n.display=r}),e.TgZ(50,"h3"),e._uU(51,"configration"),e.qZA(),e.TgZ(52,"form",22),e.NdJ("ngSubmit",function(r){return r.preventDefault()}),e.TgZ(53,"div",19)(54,"div",15)(55,"div",16)(56,"label"),e._uU(57,"help"),e.qZA(),e._UZ(58,"input",23),e.qZA()(),e.TgZ(59,"div",15)(60,"div",16)(61,"label"),e._uU(62,"Answering time"),e.qZA(),e._UZ(63,"input",24),e.qZA()(),e.TgZ(64,"div",15)(65,"div",16)(66,"label"),e._uU(67,"grading"),e.qZA(),e.TgZ(68,"select",25),e.YNc(69,Gn,2,2,"option",26),e.qZA()()(),e.TgZ(70,"div",15)(71,"div",27),e._UZ(72,"input",28),e.TgZ(73,"label",29),e._uU(74,"show count down"),e.qZA()()(),e.TgZ(75,"div",15)(76,"div",27),e._UZ(77,"input",30),e.TgZ(78,"label",29),e._uU(79,"show correct answer"),e.qZA()()()()(),e.TgZ(80,"h3",13),e._uU(81,"question"),e.qZA(),e.TgZ(82,"form",31),e.NdJ("submit",function(r){return r.preventDefault()}),e.TgZ(83,"div",19)(84,"div",32)(85,"div",16)(86,"label"),e._uU(87,"question"),e.qZA(),e._UZ(88,"input",33),e.YNc(89,jn,2,1,"div",34),e.qZA()()(),e.TgZ(90,"div",19)(91,"div",15)(92,"div",16)(93,"label"),e._uU(94,"answer"),e.qZA(),e._UZ(95,"input",35),e.YNc(96,zn,2,1,"div",34),e.qZA()(),e.TgZ(97,"div",15)(98,"div",16)(99,"label"),e._uU(100,"score"),e.qZA(),e._UZ(101,"input",36),e.YNc(102,Pn,2,1,"div",34),e.YNc(103,Bn,2,1,"div",34),e.qZA()()(),e.TgZ(104,"div",37)(105,"button",38),e.NdJ("click",function(){return n.saveQuestions()}),e._uU(106," save Question "),e.qZA()()()()),2&t){let o,r,a,c;e.xp6(25),e.Oqu(n.data.config.answeringTime),e.xp6(6),e.Oqu(n.data.config.grading),e.xp6(6),e.Oqu(n.data.config.help),e.xp6(9),e.hij(" ",n.data.content.data.question," "),e.xp6(2),e.hij(" (",n.data.content.data.answer,") "),e.xp6(1),e.Akn(e.DdM(18,Wn)),e.Q6J("visible",n.display)("draggable",!1)("modal",!0),e.xp6(3),e.Q6J("formGroup",n.configForm),e.xp6(17),e.Q6J("ngForOf",n.gradingOptions),e.xp6(13),e.Q6J("formGroup",n.questionForm),e.xp6(7),e.Q6J("ngIf",(null==(o=n.questionForm.get("question"))?null:o.invalid)&&(null==(o=n.questionForm.get("question"))?null:o.touched)),e.xp6(7),e.Q6J("ngIf",(null==(r=n.questionForm.get("answer"))?null:r.invalid)&&(null==(r=n.questionForm.get("answer"))?null:r.touched)),e.xp6(6),e.Q6J("ngIf",(null==(a=n.questionForm.get("score"))?null:a.invalid)&&(null==(a=n.questionForm.get("score"))?null:a.touched)),e.xp6(1),e.Q6J("ngIf",(null==(c=n.questionForm.get("score"))?null:c.invalid)&&(null==(c=n.questionForm.get("score"))?null:c.touched)),e.xp6(2),e.Q6J("disabled",n.questionForm.invalid)}},dependencies:[d.sg,d.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s.JJ,s.JL,s.sg,s.u,p.V,m.Zt],styles:["button[_ngcontent-%COMP%]{font-size:16px}"]}),i})();function ei(i,l){if(1&i&&(e.TgZ(0,"div",47)(1,"div",48)(2,"div",16)(3,"p",18),e._uU(4),e.TgZ(5,"span",13),e._uU(6),e.qZA()()()()()),2&i){const t=l.$implicit;e.xp6(4),e.hij(" ",t.choice," "),e.xp6(2),e.hij(" (",t.score,") ")}}function ti(i,l){if(1&i&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function ni(i,l){1&i&&(e.TgZ(0,"span",52),e._uU(1," question is required "),e.qZA())}function ii(i,l){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,ni,2,0,"span",51),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.singleMcqForm.get("question"))||null==n.errors?null:n.errors.required)}}function oi(i,l){1&i&&(e.TgZ(0,"span",53),e._uU(1,"only one choice can has score more than 0 "),e.qZA())}function li(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw();return e.KtG(r.deleteChoice(o))}),e.O4$(),e.TgZ(1,"svg",5),e._UZ(2,"path",6),e.qZA()()}}function si(i,l){1&i&&(e.TgZ(0,"span",52),e._uU(1," choice is required "),e.qZA())}function ri(i,l){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,si,2,0,"span",51),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("choice"))||null==n.errors?null:n.errors.required)}}function ai(i,l){1&i&&(e.TgZ(0,"span",52),e._uU(1," score is required "),e.qZA())}function ci(i,l){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,ai,2,0,"span",51),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("score"))||null==n.errors?null:n.errors.required)}}function ui(i,l){1&i&&(e.TgZ(0,"span",52),e._uU(1," score must be less than 1000 "),e.qZA())}function di(i,l){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,ui,2,0,"span",51),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("score"))||null==n.errors?null:n.errors.pattern)}}function pi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",54),e.NdJ("submit",function(o){return o.preventDefault()}),e.TgZ(2,"div",19)(3,"div",39)(4,"div",35),e.YNc(5,li,3,0,"a",55),e.qZA()()(),e.TgZ(6,"div",19)(7,"div",15)(8,"div",16)(9,"label"),e._uU(10,"choice"),e.qZA(),e._UZ(11,"input",56),e.YNc(12,ri,2,1,"div",41),e.qZA()(),e.TgZ(13,"div",15)(14,"div",16)(15,"label"),e._uU(16,"score"),e.qZA(),e.TgZ(17,"input",57),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkScore())}),e.qZA(),e.YNc(18,ci,2,1,"div",41),e.YNc(19,di,2,1,"div",41),e.qZA()()()()()}if(2&i){const t=l.$implicit,n=e.oxw();let o,r,a;e.xp6(1),e.Q6J("formGroup",t),e.xp6(4),e.Q6J("ngIf",n.choices.controls.length>2),e.xp6(7),e.Q6J("ngIf",(null==(o=t.get("choice"))?null:o.invalid)&&(null==(o=t.get("choice"))?null:o.touched)),e.xp6(6),e.Q6J("ngIf",(null==(r=t.get("score"))?null:r.invalid)&&(null==(r=t.get("score"))?null:r.touched)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.get("score"))?null:a.invalid)&&(null==(a=t.get("score"))?null:a.touched))}}function _i(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveQuestions())}),e._uU(1," save Question "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.singleMcqForm.invalid||t.invalidScore||t.configForm.invalid)}}const mi=function(){return{width:"60vw"}};let hi=(()=>{class i{constructor(t,n){this.authToolService=t,this.fb=n,this.display=!1,this.gradingOptions=["Manual","Auto","ungraded"],this.configForm=new s.cw({help:new s.NI(null,{updateOn:"change",validators:[]}),answeringTime:new s.NI(null,{updateOn:"change",validators:[s.kI.pattern("[0-9]{1,3}")]}),showCountdown:new s.NI(null,{updateOn:"change",validators:[]}),grading:new s.NI("Manual",{updateOn:"change",validators:[]}),showCorrectAnswer:new s.NI(null,{updateOn:"change",validators:[]})}),this.singleMcqForm=this.fb.group({question:new s.NI(null,{updateOn:"change",validators:[s.kI.required]}),choices:this.fb.array([])}),this.invalidScore=!1}ngOnInit(){this.configForm.setValue(this.data.config),this.setSingleMcqForm()}setSingleMcqForm(){this.singleMcqForm.get("question").setValue(this.data.content.data.question),this.data.content.data.choices.forEach(t=>{this.choices.push(this.newChoice(t))})}newChoice(t=null){return this.fb.group({choice:[t?t.choice:null,s.kI.required],score:[t?t.score:null,[s.kI.required,s.kI.pattern("[0-9]{1,3}")]]})}displayConfig(){this.display=!0}get choices(){return this.singleMcqForm.controls.choices}addChoice(){this.choices.push(this.newChoice())}deleteChoice(t){this.choices.removeAt(t)}saveQuestions(){this.singleMcqForm.invalid||this.invalidScore||this.configForm.invalid||(this.authToolService.updateSelectionQuestionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,config:this.configForm.value,content:this.singleMcqForm.value}),this.data.config=this.configForm.value,this.data.content.data=this.singleMcqForm.value,this.display=!1)}checkScore(){this.invalidScore=!1;let t=0,n=this.choices.value;for(let o=0;o<n.length&&!(n[o].score&&(t+=1,t>1));o++);t>1&&(this.invalidScore=!0)}deleteQuestionSelection(){this.authToolService.deleteSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex})}drangAndDropContent(t){this.authToolService.changeChoicesOfColumnPosition({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,event:t}),this.choices.setValue(this.data.content.data.choices)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.j),e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mcq-single-display"]],inputs:{sectionIndex:"sectionIndex",columnIndex:"columnIndex",pushedIndex:"pushedIndex",data:"data"},decls:99,vars:18,consts:[["cdkDrag","",1,"my-2","hand"],[1,"d-flex","justify-content-end","align-items-center"],[1,"mx-2","finger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-archive"],["d","M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"],[1,"accordion-item"],["id","headingTH",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTH","aria-expanded","false","aria-controls","collapseTH",1,"my-2","blue-btn","mx-2","px-1"],["id","collapseTH","aria-labelledby","headingTH","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"lls-form"],[1,"blue"],[1,"row","my-2"],[1,"col-md-4"],[1,"lls-form-group"],[1,"form-label"],[1,"form-input"],[1,"row"],[1,"col-md-10"],[1,"form-input","my-0"],["cdkDropList","",1,"p-1",3,"cdkDropListDropped"],[1,"p-1"],["class","row","cdkDrag","",4,"ngFor","ngForOf"],["header","configration",3,"visible","draggable","modal","visibleChange"],[1,"lls-form",3,"formGroup","submit"],["type","text","formControlName","help"],["type","number","formControlName","answeringTime"],["type","text","formControlName","grading"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],["type","checkbox","formControlName","showCountdown",1,"w-auto","p-0","m-0"],[1,"mx-2"],["type","checkbox","formControlName","showCorrectAnswer",1,"w-auto","p-0","m-0"],[1,"d-flex","justify-content-end"],[1,"mx-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-plus-circle-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"],[1,"col-md-8"],["type","text","formControlName","question"],["class","errors-container",4,"ngIf"],["formArrayName","choices"],["class","text-danger",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"disabled","click",4,"ngIf"],["cdkDrag","",1,"row"],[1,"col-md-4","hand"],[3,"value"],[1,"errors-container"],["class","errors cairo-regular",4,"ngIf"],[1,"errors","cairo-regular"],[1,"text-danger"],[1,"my-3",3,"formGroup","submit"],[3,"click",4,"ngIf"],["type","test","formControlName","choice"],["type","number","value","true","formControlName","score",3,"input"],[3,"click"],[3,"disabled","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(){return n.displayConfig()}),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e._uU(5,' fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z" /> '),e.qZA()(),e.kcU(),e.TgZ(6,"a",2),e.NdJ("click",function(){return n.deleteQuestionSelection()}),e.O4$(),e.TgZ(7,"svg",5),e._UZ(8,"path",6),e.qZA()()(),e.kcU(),e.TgZ(9,"div",7)(10,"h2",8)(11,"button",9),e._uU(12," Configration "),e.qZA()(),e.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"h5",13),e._uU(17,"configration"),e.qZA(),e.TgZ(18,"div",14)(19,"div",15)(20,"div",16)(21,"p",17),e._uU(22,"time:"),e.qZA(),e.TgZ(23,"p",18),e._uU(24),e.qZA()()(),e.TgZ(25,"div",15)(26,"div",16)(27,"p",17),e._uU(28,"grading:"),e.qZA(),e.TgZ(29,"p",18),e._uU(30),e.qZA()()(),e.TgZ(31,"div",15)(32,"div",16)(33,"p",17),e._uU(34,"Help Text:"),e.qZA(),e.TgZ(35,"p",18),e._uU(36),e.qZA()()()()()()()(),e.TgZ(37,"h5",13),e._uU(38,"question"),e.qZA(),e.TgZ(39,"div",12)(40,"div",19)(41,"div",20)(42,"div",16)(43,"p",21),e._uU(44),e.qZA()()()(),e.TgZ(45,"div",22),e.NdJ("cdkDropListDropped",function(r){return n.drangAndDropContent(r)}),e.TgZ(46,"div",23),e.YNc(47,ei,7,2,"div",24),e.qZA()()()(),e.TgZ(48,"p-dialog",25),e.NdJ("visibleChange",function(r){return n.display=r}),e.TgZ(49,"h3",13),e._uU(50,"configration"),e.qZA(),e.TgZ(51,"form",26),e.NdJ("submit",function(r){return r.preventDefault()}),e.TgZ(52,"div",19)(53,"div",15)(54,"div",16)(55,"label"),e._uU(56,"help"),e.qZA(),e._UZ(57,"input",27),e.qZA()(),e.TgZ(58,"div",15)(59,"div",16)(60,"label"),e._uU(61,"Answering time"),e.qZA(),e._UZ(62,"input",28),e.qZA()(),e.TgZ(63,"div",15)(64,"div",16)(65,"label"),e._uU(66,"grading"),e.qZA(),e.TgZ(67,"select",29),e.YNc(68,ti,2,2,"option",30),e.qZA()()(),e.TgZ(69,"div",15)(70,"div",31),e._UZ(71,"input",32),e.TgZ(72,"label",33),e._uU(73,"show count down"),e.qZA()()(),e.TgZ(74,"div",15)(75,"div",31),e._UZ(76,"input",34),e.TgZ(77,"label",33),e._uU(78,"show correct answer"),e.qZA()()()()(),e._UZ(79,"hr"),e.TgZ(80,"h3",13),e._uU(81,"question"),e.qZA(),e.TgZ(82,"div",35)(83,"a",36),e.NdJ("click",function(){return n.addChoice()}),e.O4$(),e.TgZ(84,"svg",37),e._UZ(85,"path",38),e.qZA()()(),e.kcU(),e.TgZ(86,"form",26),e.NdJ("submit",function(r){return r.preventDefault()}),e.TgZ(87,"div",19)(88,"div",39)(89,"div",16)(90,"label"),e._uU(91,"question"),e.qZA(),e._UZ(92,"input",40),e.YNc(93,ii,2,1,"div",41),e.qZA()()(),e.TgZ(94,"div",42),e.YNc(95,oi,2,0,"span",43),e.YNc(96,pi,20,5,"div",44),e.TgZ(97,"div",45),e.YNc(98,_i,2,1,"button",46),e.qZA()()()()),2&t){let o;e.xp6(24),e.Oqu(n.data.config.answeringTime),e.xp6(6),e.Oqu(n.data.config.grading),e.xp6(6),e.Oqu(n.data.config.help),e.xp6(8),e.hij(" ",n.data.content.data.question," "),e.xp6(3),e.Q6J("ngForOf",n.data.content.data.choices),e.xp6(1),e.Akn(e.DdM(17,mi)),e.Q6J("visible",n.display)("draggable",!1)("modal",!0),e.xp6(3),e.Q6J("formGroup",n.configForm),e.xp6(17),e.Q6J("ngForOf",n.gradingOptions),e.xp6(18),e.Q6J("formGroup",n.singleMcqForm),e.xp6(7),e.Q6J("ngIf",(null==(o=n.singleMcqForm.get("question"))?null:o.invalid)&&(null==(o=n.singleMcqForm.get("question"))?null:o.touched)),e.xp6(2),e.Q6J("ngIf",n.invalidScore),e.xp6(1),e.Q6J("ngForOf",n.choices.controls),e.xp6(2),e.Q6J("ngIf",n.choices.controls.length)}},dependencies:[d.sg,d.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s.JJ,s.JL,s.sg,s.u,s.CE,p.V,m.Wj,m.Zt],styles:["button[_ngcontent-%COMP%]{font-size:16px}"]}),i})();function gi(i,l){if(1&i&&(e.TgZ(0,"div",43)(1,"div",15)(2,"div",16)(3,"p",18),e._uU(4),e.TgZ(5,"span",13),e._uU(6),e.qZA(),e._uU(7," ) "),e.qZA()()()()),2&i){const t=l.$implicit;e.xp6(4),e.hij(" ",t.choice," ( "),e.xp6(2),e.Oqu(t.score)}}function fi(i,l){if(1&i&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function vi(i,l){1&i&&(e.TgZ(0,"span",47),e._uU(1," question is required "),e.qZA())}function xi(i,l){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,vi,2,0,"span",46),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.singleMcqForm.get("question"))||null==n.errors?null:n.errors.required)}}function Ti(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw();return e.KtG(r.deleteChoice(o))}),e.O4$(),e.TgZ(1,"svg",5),e._UZ(2,"path",6),e.qZA()()}}function Zi(i,l){1&i&&(e.TgZ(0,"span",47),e._uU(1," choice is required "),e.qZA())}function Ci(i,l){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Zi,2,0,"span",46),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("choice"))||null==n.errors?null:n.errors.required)}}function bi(i,l){1&i&&(e.TgZ(0,"span",47),e._uU(1," score is required "),e.qZA())}function qi(i,l){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,bi,2,0,"span",46),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("score"))||null==n.errors?null:n.errors.required)}}function wi(i,l){1&i&&(e.TgZ(0,"span",47),e._uU(1," score must be less than 1000 "),e.qZA())}function yi(i,l){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,wi,2,0,"span",46),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.get("score"))||null==n.errors?null:n.errors.pattern)}}function Ii(i,l){if(1&i&&(e.TgZ(0,"div")(1,"form",48),e.NdJ("submit",function(n){return n.preventDefault()}),e.TgZ(2,"div"),e.YNc(3,Ti,3,0,"a",49),e.qZA(),e.TgZ(4,"div",19)(5,"div",50)(6,"div",16)(7,"label"),e._uU(8,"choice"),e.qZA(),e._UZ(9,"input",51),e.YNc(10,Ci,2,1,"div",39),e.qZA()(),e.TgZ(11,"div",50)(12,"div",16)(13,"label"),e._uU(14,"score"),e.qZA(),e._UZ(15,"input",52),e.YNc(16,qi,2,1,"div",39),e.YNc(17,yi,2,1,"div",39),e.qZA()()()()()),2&i){const t=l.$implicit,n=e.oxw();let o,r,a;e.xp6(1),e.Q6J("formGroup",t),e.xp6(2),e.Q6J("ngIf",n.choices.controls.length>2),e.xp6(7),e.Q6J("ngIf",(null==(o=t.get("choice"))?null:o.invalid)&&(null==(o=t.get("choice"))?null:o.touched)),e.xp6(6),e.Q6J("ngIf",(null==(r=t.get("score"))?null:r.invalid)&&(null==(r=t.get("score"))?null:r.touched)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.get("score"))?null:a.invalid)&&(null==(a=t.get("score"))?null:a.touched))}}function Ai(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveQuestions())}),e._uU(1," save Question "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.singleMcqForm.invalid||t.configForm.invalid)}}const Fi=function(){return{width:"60vw"}};let Mi=(()=>{class i{constructor(t,n){this.authToolService=t,this.fb=n,this.display=!1,this.gradingOptions=["Manual","Auto","ungraded"],this.configForm=new s.cw({help:new s.NI(null,{updateOn:"change",validators:[]}),answeringTime:new s.NI(null,{updateOn:"change",validators:[s.kI.pattern("[0-9]{1,3}")]}),showCountdown:new s.NI(null,{updateOn:"change",validators:[]}),grading:new s.NI("Manual",{updateOn:"change",validators:[]}),showCorrectAnswer:new s.NI(null,{updateOn:"change",validators:[]})}),this.singleMcqForm=this.fb.group({question:new s.NI(null,{updateOn:"change",validators:[s.kI.required]}),choices:this.fb.array([])})}ngOnInit(){this.configForm.setValue(this.data.config),this.setSingleMcqForm()}setSingleMcqForm(){this.singleMcqForm.get("question").setValue(this.data.content.data.question),this.data.content.data.choices.forEach(t=>{this.choices.push(this.newChoice(t))})}newChoice(t=null){return this.fb.group({choice:[t?t.choice:null,s.kI.required],score:[t?t.score:0,[s.kI.required,s.kI.pattern("-?[0-9]{1,3}")]]})}displayConfig(){this.display=!0}get choices(){return this.singleMcqForm.controls.choices}addChoice(){this.choices.push(this.newChoice())}deleteChoice(t){this.choices.removeAt(t)}saveQuestions(){this.singleMcqForm.invalid||this.configForm.invalid||(this.authToolService.updateSelectionQuestionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,config:this.configForm.value,content:this.singleMcqForm.value}),this.data.config=this.configForm.value,this.data.content.data=this.singleMcqForm.value,this.display=!1)}deleteQuestionSelection(){this.authToolService.deleteSelectionColumn({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex})}drangAndDropContent(t){this.authToolService.changeChoicesOfColumnPosition({sectionIndex:this.sectionIndex,columnIndex:this.columnIndex,pushedIndex:this.pushedIndex,event:t}),this.choices.setValue(this.data.content.data.choices)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.j),e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mcq-multi-display"]],inputs:{sectionIndex:"sectionIndex",columnIndex:"columnIndex",pushedIndex:"pushedIndex",data:"data"},decls:97,vars:17,consts:[["cdkDrag","",1,"hand"],[1,"d-flex","justify-content-end","align-items-center"],[1,"mx-2","finger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-archive"],["d","M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"],[1,"accordion-item"],["id","headingFou",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseFou","aria-expanded","false","aria-controls","collapseFou",1,"my-2","blue-btn","px-1","mx-2"],["id","collapseFou","aria-labelledby","headingFou","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"lls-form"],[1,"blue"],[1,"row","my-2"],[1,"col-md-4"],[1,"lls-form-group"],[1,"form-label"],[1,"form-input"],[1,"row"],[1,"col-md-10"],[1,"lls-form-group","my-0"],["cdkDropList","",1,"p-1",3,"cdkDropListDropped"],[1,"p-1","hand"],["class","row","cdkDrag","",4,"ngFor","ngForOf"],["header","configration",3,"visible","draggable","modal","visibleChange"],[1,"lls-form",3,"formGroup","submit"],["type","text","formControlName","help"],["type","number","formControlName","answeringTime"],["type","text","formControlName","grading"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],["type","checkbox","formControlName","showCountdown",1,"w-auto","p-0","m-0"],[1,"mx-2"],["type","checkbox","formControlName","showCorrectAnswer",1,"w-auto","p-0","m-0"],[1,"mx-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-plus-circle-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"],["type","text","formControlName","question"],["class","errors-container",4,"ngIf"],["formArrayName","choices"],[4,"ngFor","ngForOf"],[3,"disabled","click",4,"ngIf"],["cdkDrag","",1,"row"],[3,"value"],[1,"errors-container"],["class","errors cairo-regular",4,"ngIf"],[1,"errors","cairo-regular"],[1,"my-3",3,"formGroup","submit"],[3,"click",4,"ngIf"],[1,"col-md-5"],["type","test","formControlName","choice"],["type","number","value","true","formControlName","score"],[3,"click"],[3,"disabled","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(){return n.displayConfig()}),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e._uU(5,' fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z" /> '),e.qZA()(),e.kcU(),e.TgZ(6,"a",2),e.NdJ("click",function(){return n.deleteQuestionSelection()}),e.O4$(),e.TgZ(7,"svg",5),e._UZ(8,"path",6),e.qZA()()(),e.kcU(),e.TgZ(9,"div",7)(10,"h2",8)(11,"button",9),e._uU(12," Configration "),e.qZA()(),e.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"h5",13),e._uU(17,"configration"),e.qZA(),e.TgZ(18,"div",14)(19,"div",15)(20,"div",16)(21,"p",17),e._uU(22,"time:"),e.qZA(),e.TgZ(23,"p",18),e._uU(24),e.qZA()()(),e.TgZ(25,"div",15)(26,"div",16)(27,"p",17),e._uU(28,"grading:"),e.qZA(),e.TgZ(29,"p",18),e._uU(30),e.qZA()()(),e.TgZ(31,"div",15)(32,"div",16)(33,"p",17),e._uU(34,"Help Text:"),e.qZA(),e.TgZ(35,"p",18),e._uU(36),e.qZA()()()()()()()(),e._UZ(37,"hr"),e.TgZ(38,"h5",13),e._uU(39,"question"),e.qZA(),e.TgZ(40,"div")(41,"div",12)(42,"div",19)(43,"div",20)(44,"div",21)(45,"p",18),e._uU(46),e.qZA()()()(),e.TgZ(47,"div",22),e.NdJ("cdkDropListDropped",function(r){return n.drangAndDropContent(r)}),e.TgZ(48,"div",23),e.YNc(49,gi,8,2,"div",24),e.qZA()()()()(),e.TgZ(50,"p-dialog",25),e.NdJ("visibleChange",function(r){return n.display=r}),e.TgZ(51,"h5"),e._uU(52,"configration"),e.qZA(),e.TgZ(53,"form",26),e.NdJ("submit",function(r){return r.preventDefault()}),e.TgZ(54,"div",19)(55,"div",15)(56,"div",16)(57,"label"),e._uU(58,"help"),e.qZA(),e._UZ(59,"input",27),e.qZA()(),e.TgZ(60,"div",15)(61,"div",16)(62,"label"),e._uU(63,"Answering time"),e.qZA(),e._UZ(64,"input",28),e.qZA()(),e.TgZ(65,"div",15)(66,"div",16)(67,"label"),e._uU(68,"grading"),e.qZA(),e.TgZ(69,"select",29),e.YNc(70,fi,2,2,"option",30),e.qZA()()(),e.TgZ(71,"div",15)(72,"div",31),e._UZ(73,"input",32),e.TgZ(74,"label",33),e._uU(75,"show count down"),e.qZA()()(),e.TgZ(76,"div",15)(77,"div",31),e._UZ(78,"input",34),e.TgZ(79,"label",33),e._uU(80,"show correct answer"),e.qZA()()()()(),e.TgZ(81,"h3",13),e._uU(82,"question"),e.qZA(),e.TgZ(83,"a",35),e.NdJ("click",function(){return n.addChoice()}),e.O4$(),e.TgZ(84,"svg",36),e._UZ(85,"path",37),e.qZA()(),e.kcU(),e.TgZ(86,"form",26),e.NdJ("submit",function(r){return r.preventDefault()}),e.TgZ(87,"div",19)(88,"div",20)(89,"div",16)(90,"label"),e._uU(91,"question"),e.qZA(),e._UZ(92,"input",38),e.YNc(93,xi,2,1,"div",39),e.qZA()()(),e.TgZ(94,"div",40),e.YNc(95,Ii,18,5,"div",41),e.YNc(96,Ai,2,1,"button",42),e.qZA()()()),2&t){let o;e.xp6(24),e.Oqu(n.data.config.answeringTime),e.xp6(6),e.Oqu(n.data.config.grading),e.xp6(6),e.Oqu(n.data.config.help),e.xp6(10),e.hij(" ",n.data.content.data.question," "),e.xp6(3),e.Q6J("ngForOf",n.data.content.data.choices),e.xp6(1),e.Akn(e.DdM(16,Fi)),e.Q6J("visible",n.display)("draggable",!1)("modal",!0),e.xp6(3),e.Q6J("formGroup",n.configForm),e.xp6(17),e.Q6J("ngForOf",n.gradingOptions),e.xp6(16),e.Q6J("formGroup",n.singleMcqForm),e.xp6(7),e.Q6J("ngIf",(null==(o=n.singleMcqForm.get("question"))?null:o.invalid)&&(null==(o=n.singleMcqForm.get("question"))?null:o.touched)),e.xp6(2),e.Q6J("ngForOf",n.choices.controls),e.xp6(1),e.Q6J("ngIf",n.choices.controls.length)}},dependencies:[d.sg,d.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.Wl,s.EJ,s.JJ,s.JL,s.sg,s.u,s.CE,p.V,m.Wj,m.Zt],styles:["button[_ngcontent-%COMP%]{font-size:16px}"]}),i})();function Oi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ul",21),e.NdJ("onDragStart",function(o){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.dragStart(o,a.text,c.authToolService.contentType))}),e.TgZ(1,"li",22),e._UZ(2,"i"),e._uU(3),e.qZA()()}if(2&i){const t=l.$implicit;e.xp6(2),e.Tol(t.icon),e.xp6(1),e.hij(" ",t.display," ")}}function Si(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ul",23),e.NdJ("onDragStart",function(o){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.dragStart(o,a.text,c.authToolService.questionType))}),e.TgZ(1,"li",22),e._UZ(2,"i"),e._uU(3),e.qZA()()}if(2&i){const t=l.$implicit;e.xp6(2),e.Tol(t.icon),e.xp6(1),e.hij(" ",t.text," ")}}function Ui(i,l){if(1&i&&e._UZ(0,"app-content-display",52),2&i){const t=e.oxw(),n=t.index,o=t.$implicit,r=e.oxw().$implicit,a=e.oxw().index;e.Q6J("sectionIndex",a)("columnIndex",r)("pushedIndex",n)("data",o)}}function Ni(i,l){if(1&i&&e._UZ(0,"app-true-false-display",52),2&i){const t=e.oxw(),n=t.index,o=t.$implicit,r=e.oxw().$implicit,a=e.oxw().index;e.Q6J("sectionIndex",a)("columnIndex",r)("pushedIndex",n)("data",o)}}function Ji(i,l){if(1&i&&e._UZ(0,"app-open-question-display",52),2&i){const t=e.oxw(),n=t.index,o=t.$implicit,r=e.oxw().$implicit,a=e.oxw().index;e.Q6J("sectionIndex",a)("columnIndex",r)("pushedIndex",n)("data",o)}}function ki(i,l){if(1&i&&e._UZ(0,"app-mcq-single-display",52),2&i){const t=e.oxw(),n=t.index,o=t.$implicit,r=e.oxw().$implicit,a=e.oxw().index;e.Q6J("sectionIndex",a)("columnIndex",r)("pushedIndex",n)("data",o)}}function Qi(i,l){if(1&i&&e._UZ(0,"app-mcq-multi-display",52),2&i){const t=e.oxw(),n=t.index,o=t.$implicit,r=e.oxw().$implicit,a=e.oxw().index;e.Q6J("sectionIndex",a)("columnIndex",r)("pushedIndex",n)("data",o)}}function Di(i,l){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Ui,1,4,"app-content-display",51),e.YNc(2,Ni,1,4,"app-true-false-display",51),e.YNc(3,Ji,1,4,"app-open-question-display",51),e.YNc(4,ki,1,4,"app-mcq-single-display",51),e.YNc(5,Qi,1,4,"app-mcq-multi-display",51),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.mainType==n.authToolService.contentType),e.xp6(1),e.Q6J("ngIf",t.type==n.authToolService.trueOrFalseType),e.xp6(1),e.Q6J("ngIf",t.type==n.authToolService.openQuestionType),e.xp6(1),e.Q6J("ngIf",t.type==n.authToolService.singleMcqType),e.xp6(1),e.Q6J("ngIf",t.type==n.authToolService.multiMcqType)}}function Yi(i,l){if(1&i&&e._UZ(0,"app-content",56),2&i){const t=e.oxw(),n=t.$implicit,o=t.index,r=e.oxw().$implicit,a=e.oxw().index;e.Q6J("contentType",n.type)("sectionIndex",a)("columnIndex",r)("pushedIndex",o)}}function Ei(i,l){if(1&i&&e._UZ(0,"app-true-false",57),2&i){const t=e.oxw().index,n=e.oxw().$implicit,o=e.oxw().index;e.Q6J("sectionIndex",o)("columnIndex",n)("pushedIndex",t)}}function Li(i,l){if(1&i&&e._UZ(0,"app-mcq-single",57),2&i){const t=e.oxw().index,n=e.oxw().$implicit,o=e.oxw().index;e.Q6J("sectionIndex",o)("columnIndex",n)("pushedIndex",t)}}function Hi(i,l){if(1&i&&e._UZ(0,"app-mcq-multi",57),2&i){const t=e.oxw().index,n=e.oxw().$implicit,o=e.oxw().index;e.Q6J("sectionIndex",o)("columnIndex",n)("pushedIndex",t)}}function Gi(i,l){if(1&i&&e._UZ(0,"app-open-question",57),2&i){const t=e.oxw().index,n=e.oxw().$implicit,o=e.oxw().index;e.Q6J("sectionIndex",o)("columnIndex",n)("pushedIndex",t)}}function Vi(i,l){if(1&i&&(e.TgZ(0,"div",53),e.YNc(1,Yi,1,4,"app-content",54),e.YNc(2,Ei,1,3,"app-true-false",55),e.YNc(3,Li,1,3,"app-mcq-single",55),e.YNc(4,Hi,1,3,"app-mcq-multi",55),e.YNc(5,Gi,1,3,"app-open-question",55),e.qZA()),2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.text==n.authToolService.contentType),e.xp6(1),e.Q6J("ngIf",t.text==n.authToolService.questionType&&t.type==n.trueAndFalse),e.xp6(1),e.Q6J("ngIf",t.text==n.authToolService.questionType&&t.type==n.singleSelectMSQ),e.xp6(1),e.Q6J("ngIf",t.text==n.authToolService.questionType&&t.type==n.multileSelectMSQ),e.xp6(1),e.Q6J("ngIf",t.text==n.authToolService.questionType&&t.type==n.openQuestion)}}const ji=function(i,l,t){return{"col-lg-4":i,"col-lg-6":l,"col-lg-12":t}};function $i(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"div",45),e.NdJ("drop",function(o){const a=e.CHM(t).$implicit,c=e.oxw().$implicit,h=e.oxw();return e.KtG(h.dragEnterSection(o,c.index,a))})("dragover",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.allowDrop(o))}),e.TgZ(2,"div",46),e.NdJ("cdkDropListDropped",function(o){const a=e.CHM(t).$implicit,c=e.oxw().index,h=e.oxw();return e.KtG(h.drangAndDropContent(o,c,a))}),e.YNc(3,Di,6,5,"div",47),e.qZA(),e.YNc(4,Vi,6,5,"div",48),e.TgZ(5,"div",49),e.NdJ("dragover",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.allowDrop(o))})("drop",function(o){const a=e.CHM(t).$implicit,c=e.oxw().$implicit,h=e.oxw();return e.KtG(h.dragEnterSection(o,c.index,a))}),e.TgZ(6,"span"),e._uU(7," Drop here "),e.qZA()()()()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit,o=e.oxw();e.Q6J("ngClass",e.kEZ(3,ji,3==n.config.numberOfColumns&&n.vrl.layout==o.layout[1],2==n.config.numberOfColumns&&n.vrl.layout==o.layout[1],1==n.config.numberOfColumns&&n.vrl.layout==o.layout[1]||n.vrl.layout==o.layout[0])),e.xp6(3),e.Q6J("ngForOf",n["column"+t]),e.xp6(1),e.Q6J("ngForOf",n["columnFrom"+t])}}function zi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"a",28),e.NdJ("click",function(){const r=e.CHM(t).index,a=e.oxw();return e.KtG(a.deleteSection(r))}),e.O4$(),e.TgZ(5,"svg",29),e._UZ(6,"path",30),e.qZA()(),e.kcU(),e.TgZ(7,"div",31)(8,"h2",32)(9,"button",33),e._uU(10," Configration "),e.qZA()(),e.TgZ(11,"div",34)(12,"div",35)(13,"div",36)(14,"div",37)(15,"div",38)(16,"p",39),e._uU(17,"Title:"),e.qZA(),e.TgZ(18,"p",40),e._uU(19),e.qZA()()()(),e._UZ(20,"hr"),e.TgZ(21,"div",36)(22,"h4",41),e._uU(23,"Configration"),e.qZA(),e.TgZ(24,"div",37)(25,"div",38)(26,"p",39),e._uU(27,"Number of columns:"),e.qZA(),e.TgZ(28,"p",40),e._uU(29),e.qZA()()(),e.TgZ(30,"div",37)(31,"div",38)(32,"p",39),e._uU(33,"Answering Time:"),e.qZA(),e.TgZ(34,"p",40),e._uU(35),e.qZA()()(),e.TgZ(36,"div",37)(37,"div",38)(38,"p",39),e._uU(39,"Help Text:"),e.qZA(),e.TgZ(40,"p",40),e._uU(41),e.qZA()()(),e.TgZ(42,"div",37)(43,"div",38)(44,"p",39),e._uU(45,"show Countdown:"),e.qZA(),e.TgZ(46,"p",40),e._uU(47),e.qZA()()()(),e._UZ(48,"hr"),e.TgZ(49,"div",36)(50,"div",37)(51,"div",38)(52,"p",39),e._uU(53,"Active:"),e.qZA(),e.TgZ(54,"p",40),e._uU(55),e.qZA()()(),e.TgZ(56,"div",37)(57,"div",38)(58,"p",39),e._uU(59,"Resources:"),e.qZA(),e.TgZ(60,"p",40),e._uU(61),e.qZA()()(),e.TgZ(62,"div",37)(63,"div",38)(64,"p",39),e._uU(65,"Layout:"),e.qZA(),e.TgZ(66,"p",40),e._uU(67),e.qZA()()(),e.TgZ(68,"div",37)(69,"div",38)(70,"p",39),e._uU(71,"show Screen ShotButton:"),e.qZA(),e.TgZ(72,"p",40),e._uU(73),e.qZA()()()()()()()(),e.TgZ(74,"div",42),e.YNc(75,$i,8,7,"div",43),e.qZA()()(),e._UZ(76,"div"),e.qZA()}if(2&i){const t=l.$implicit,n=l.index,o=e.oxw();e.xp6(19),e.hij(" ",t.title," "),e.xp6(10),e.hij(" ",t.config.numberOfColumns," "),e.xp6(6),e.hij(" ",t.config.answeringTime," "),e.xp6(6),e.hij(" ",t.config.help," "),e.xp6(6),e.hij(" ",t.config.showCountdown," "),e.xp6(8),e.hij(" ",t.vrl.active," "),e.xp6(6),e.hij(" ",t.vrl.resources," "),e.xp6(6),e.hij(" ",t.vrl.layout," "),e.xp6(6),e.hij(" ",t.vrl.showScreenShotButton," "),e.xp6(1),e.Q6J("id","section"+n+"section"),e.xp6(1),e.Q6J("ngForOf",o.getNumberOfColumns(t.config.numberOfColumns))}}function Ki(i,l){1&i&&(e.TgZ(0,"span",78),e._uU(1," title is required "),e.qZA())}function Pi(i,l){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Ki,2,0,"span",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formControls.title.errors?null:t.formControls.title.errors.required)}}function Ri(i,l){if(1&i&&(e.TgZ(0,"option",79),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Bi(i,l){1&i&&(e.TgZ(0,"span",78),e._uU(1," number of columns is required "),e.qZA())}function Wi(i,l){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Bi,2,0,"span",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formControls.numberOfColumns.errors?null:t.formControls.numberOfColumns.errors.required)}}function Xi(i,l){1&i&&(e.TgZ(0,"span",78),e._uU(1," answering time must be number "),e.qZA())}function eo(i,l){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Xi,2,0,"span",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formControls.answeringTime.errors?null:t.formControls.answeringTime.errors.pattern)}}function to(i,l){if(1&i&&(e.TgZ(0,"option",79),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function no(i,l){1&i&&(e.TgZ(0,"span",78),e._uU(1," resources and active is required "),e.qZA())}function io(i,l){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,no,2,0,"span",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.notValidResource)}}function oo(i,l){if(1&i&&(e.TgZ(0,"option",79),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function lo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",58),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createSection())}),e.TgZ(2,"div",59)(3,"div",36)(4,"div",60)(5,"div",38)(6,"label"),e._uU(7,"title"),e.qZA(),e._UZ(8,"input",61),e.YNc(9,Pi,2,1,"div",62),e.qZA()()(),e._UZ(10,"hr"),e.TgZ(11,"div",36)(12,"h4"),e._uU(13,"Configration"),e.qZA(),e.TgZ(14,"div",60)(15,"div",38)(16,"label"),e._uU(17,"Number of columns"),e.qZA(),e.TgZ(18,"select",63),e.YNc(19,Ri,2,2,"option",64),e.qZA(),e.YNc(20,Wi,2,1,"div",62),e.qZA()(),e.TgZ(21,"div",60)(22,"div",38)(23,"label"),e._uU(24,"Answering time"),e.qZA(),e._UZ(25,"input",65),e.YNc(26,eo,2,1,"div",62),e.qZA()(),e.TgZ(27,"div",60)(28,"div",38)(29,"label"),e._uU(30,"Help Text"),e.qZA(),e.TgZ(31,"textarea",66),e._uU(32," "),e.qZA()()(),e.TgZ(33,"div",60)(34,"div",67),e._UZ(35,"input",68),e.TgZ(36,"label",69),e._uU(37," show count down "),e.qZA()()()(),e._UZ(38,"hr"),e.TgZ(39,"div",36)(40,"h4"),e._uU(41,"VRL"),e.qZA(),e.TgZ(42,"div",60)(43,"div",67),e._UZ(44,"input",70),e.TgZ(45,"label",69),e._uU(46,"active"),e.qZA()()(),e.TgZ(47,"div",60)(48,"div",38)(49,"label"),e._uU(50,"resources"),e.qZA(),e.TgZ(51,"select",71),e.YNc(52,to,2,2,"option",64),e.qZA(),e.YNc(53,io,2,1,"div",62),e.qZA()(),e.TgZ(54,"div",60)(55,"div",67),e._UZ(56,"input",72),e.TgZ(57,"label",69),e._uU(58,"Show screen shot button"),e.qZA()()(),e.TgZ(59,"div",60)(60,"div",38)(61,"label"),e._uU(62,"layout"),e.qZA(),e.TgZ(63,"select",73),e.YNc(64,oo,2,2,"option",64),e.qZA()()(),e.TgZ(65,"div",74)(66,"button",75),e._uU(67," Add Section "),e.qZA(),e._UZ(68,"app-forms-spinner"),e.qZA()()()()()}if(2&i){const t=e.oxw();let n,o,r;e.xp6(1),e.Q6J("formGroup",t.sectionForm),e.xp6(8),e.Q6J("ngIf",(null==(n=t.sectionForm.get("title"))?null:n.invalid)&&(null==(n=t.sectionForm.get("title"))?null:n.touched)),e.xp6(10),e.Q6J("ngForOf",t.numberOfColumns),e.xp6(1),e.Q6J("ngIf",(null==(o=t.sectionForm.get("numberOfColumns"))?null:o.invalid)&&(null==(o=t.sectionForm.get("numberOfColumns"))?null:o.touched)),e.xp6(6),e.Q6J("ngIf",(null==(r=t.sectionForm.get("answeringTime"))?null:r.invalid)&&(null==(r=t.sectionForm.get("answeringTime"))?null:r.touched)),e.xp6(26),e.Q6J("ngForOf",t.resources),e.xp6(1),e.Q6J("ngIf",t.notValidResource),e.xp6(11),e.Q6J("ngForOf",t.layout),e.xp6(2),e.Q6J("disabled",t.sectionForm.invalid||t.notValidResource)}}const so=function(){return{width:"60vw"}},ro=function(){return{width:"100vw",height:"100vh"}},ao=[{path:"",component:(()=>{class i{constructor(t,n,o,r){this.authToolService=t,this.http=n,this.router=o,this.route=r,this.sections=[],this.numberOfColumns=[1,2,3],this.layout=["Vertical","Horizontal"],this.currentActiveType="",this.currentActiveText="",this.laoding=!1,this.previewDisplay=!1,this.notValidResource=!1,this.resources=["matlab","labview","multisim","packet_tracer","remote_controller_lab","emona"],this.trueAndFalse="True Or False",this.singleSelectMSQ="Single select Mcq",this.multileSelectMSQ="Multi select Mcq",this.openQuestion="Open Question",this.content=[{display:"text",text:this.authToolService.textType,icon:"px-2 pi pi-book"},{display:"code",text:this.authToolService.codeType,icon:"px-2 pi pi-code"},{display:"image",text:this.authToolService.imageType,icon:"px-2 pi pi-image"},{display:"video",text:this.authToolService.videoType,icon:"px-2 pi pi-video"},{display:"Iframe",text:this.authToolService.iframeType,icon:"px-2 pi pi-link"}],this.Questions=[{text:this.trueAndFalse,icon:"px-2 pi pi-check"},{text:this.singleSelectMSQ,icon:"px-2 pi pi-arrows-h"},{text:this.multileSelectMSQ,icon:"px-2 pi pi-arrows-h"},{text:this.openQuestion,icon:"px-2 pi pi-question"}],this.display=!1,this.expirementId=""}ngOnInit(){this.route.params.subscribe(t=>{this.expirementId=t.id,this.authToolService.expirementId=t.id,this.authToolService.getOrCreateSections(this.expirementId)})}allowDrop(t){t.preventDefault()}dragStart(t,n,o){this.currentActiveType=n,this.currentActiveText=o}dragEnterSection(t,n,o){this.currentActiveType&&this.currentActiveText&&this.authToolService.pushInFormcolumn(n,o,this.currentActiveType,this.currentActiveText),this.currentActiveType="",this.currentActiveText=""}openPopUp(){this.initFormAddSection(),this.setResourcesValidators(),this.display=!0}setResourcesValidators(){this.notValidResource=!1,this.sectionForm.get("resources").valueChanges.subscribe(t=>{this.sectionForm.value.active||t?t?this.notValidResource=!1:this.sectionForm.value.active||(this.notValidResource=!0):this.notValidResource=!1}),this.sectionForm.get("active").valueChanges.subscribe(t=>{this.sectionForm.value.resources||t?t?(this.sectionForm.get("resources").setValidators(s.kI.required),this.sectionForm.value.resources||(this.notValidResource=!0)):(this.sectionForm.get("resources").clearValidators(),this.notValidResource=!0):this.notValidResource=!1})}closeDialog(){}get formControls(){return this.sectionForm.controls}initFormAddSection(){this.sectionForm=new s.cw({title:new s.NI(null,{updateOn:"change",validators:[s.kI.required]}),numberOfColumns:new s.NI(null,{updateOn:"change",validators:[s.kI.required]}),help:new s.NI(null,{updateOn:"change",validators:[]}),answeringTime:new s.NI(null,{updateOn:"change",validators:[s.kI.pattern("[0-9]{1,3}")]}),showCountdown:new s.NI(null,{updateOn:"change",validators:[]}),active:new s.NI(null,{updateOn:"change",validators:[]}),layout:new s.NI(null,{updateOn:"change",validators:[s.kI.required]}),resources:new s.NI(null,{updateOn:"change",validators:[]}),showScreenShotButton:new s.NI(null,{updateOn:"change",validators:[]})})}deleteSection(t){this.authToolService.deleteSection(t)}createSection(){this.sectionForm.invalid||(this.authToolService.pushSection(this.sectionForm.value),this.sectionForm.reset(),this.display=!1,this.scrollToSection())}getNumberOfColumns(t){let n=[];for(let o=1;o<=t;o++)n.push(o);return n}drangAndDropContent(t,n,o){this.authToolService.changeSelectionColumnPosition({sectionIndex:n,columnIndex:o,event:t})}createExam(){let t=this.authToolService.getPreparedExam();!t.length||(this.laoding=!0,this.http.postRequest(`/api/Experiment/${this.expirementId}/LLO`,{sections:t}).subscribe({next:n=>{this.authToolService.requestSended(),this.router.navigate(["/user/show-ex"]),this.laoding=!1},error:n=>{this.laoding=!1}}))}scrollToSection(){setTimeout(()=>{this.authToolService.sections.length>1&&document.getElementById("section"+(this.authToolService.sections.length-1)+"section").scrollIntoView()},50)}showPreview(){this.previewDisplay=!0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.j),e.Y36(y.O),e.Y36(C.F0),e.Y36(C.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-auth-tool"]],decls:25,vars:22,consts:[[1,"container-fluid"],[1,"row","my-5"],[1,"col-xl-3"],[1,"types"],[1,"content"],["header","Content",1,"panel-faq",3,"collapsed","toggleable"],["class","border","pDraggable","content",3,"onDragStart",4,"ngFor","ngForOf"],[1,"question"],["header","Question",1,"panel-faq",3,"collapsed","toggleable"],["class","border","pDraggable","question",3,"onDragStart",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"blue-btn","m-1","px-1","text-nowrap",3,"click"],[1,"blue-btn","m-3",3,"click"],[1,"col-xl-9"],[1,"d-flex","justify-content-end"],[1,"blue-btn",3,"click"],["class","drop my-3",4,"ngFor","ngForOf"],["header","Add Section",3,"visible","draggable","modal","visibleChange","onHide"],[4,"ngIf"],["header","Preview",3,"visible","draggable","modal","maximizable","visibleChange"],[3,"sections"],["pDraggable","content",1,"border",3,"onDragStart"],[1,"d-flex","align-items-center","mb-1"],["pDraggable","question",1,"border",3,"onDragStart"],[1,"drop","my-3"],[1,"section-box"],[1,"bg-grey","p-3"],[1,"lls-form"],[1,"d-flex","justify-content-end",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 25 25",1,"bi","bi-archive"],["d","M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"],[1,"accordion-item"],["id","headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"my-2"],["id","collapseTwo","aria-labelledby","headingTwo","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"row"],[1,"col-md-2"],[1,"lls-form-group"],[1,"form-label"],[1,"form-input"],[1,"my-2","blue"],[1,"row",3,"id"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"border-content","my-4","content",3,"drop","dragover"],["cdkDropList","",3,"cdkDropListDropped"],["class","content-or-question-display p-1 my-2",4,"ngFor","ngForOf"],["class","content-or-question",4,"ngFor","ngForOf"],[1,"w-1o","my-5","d-flex","align-items-center","justify-content-center",3,"dragover","drop"],[1,"content-or-question-display","p-1","my-2"],[3,"sectionIndex","columnIndex","pushedIndex","data",4,"ngIf"],[3,"sectionIndex","columnIndex","pushedIndex","data"],[1,"content-or-question"],[3,"contentType","sectionIndex","columnIndex","pushedIndex",4,"ngIf"],[3,"sectionIndex","columnIndex","pushedIndex",4,"ngIf"],[3,"contentType","sectionIndex","columnIndex","pushedIndex"],[3,"sectionIndex","columnIndex","pushedIndex"],[1,"lls-form",3,"formGroup","ngSubmit"],[1,"container"],[1,"col-lg-6"],["type","text","formControlName","title"],["class","errors-container",4,"ngIf"],["type","text","formControlName","numberOfColumns"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","answeringTime"],["type","text","formControlName","help"],[1,"my-4"],["type","checkbox","formControlName","showCountdown"],[1,"mx-2"],["type","checkbox","formControlName","active"],["type","text","formControlName","resources"],["type","checkbox","formControlName","showScreenShotButton"],["type","text","formControlName","layout"],[1,"d-flex","justify-content-center"],["type","submit",1,"",3,"disabled"],[1,"errors-container"],["class","errors cairo-regular",4,"ngIf"],[1,"errors","cairo-regular"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p-panel",5),e.YNc(6,Oi,4,3,"ul",6),e.qZA()(),e.TgZ(7,"div",7)(8,"p-panel",8),e.YNc(9,Si,4,3,"ul",9),e.qZA()(),e.TgZ(10,"div",10)(11,"button",11),e.NdJ("click",function(){return n.createExam()}),e._uU(12," Create Experiment "),e.qZA(),e._UZ(13,"app-forms-spinner"),e.TgZ(14,"button",12),e.NdJ("click",function(){return n.showPreview()}),e._uU(15,"Preview"),e.qZA()()()(),e.TgZ(16,"div",13)(17,"div",14)(18,"button",15),e.NdJ("click",function(){return n.openPopUp()}),e._uU(19,"Add Section"),e.qZA()(),e.YNc(20,zi,77,11,"div",16),e.qZA(),e.TgZ(21,"p-dialog",17),e.NdJ("visibleChange",function(r){return n.display=r})("onHide",function(){return n.closeDialog()}),e.YNc(22,lo,69,9,"div",18),e.qZA(),e.TgZ(23,"p-dialog",19),e.NdJ("visibleChange",function(r){return n.previewDisplay=r}),e._UZ(24,"app-preview",20),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("collapsed",!1)("toggleable",!0),e.xp6(1),e.Q6J("ngForOf",n.content),e.xp6(2),e.Q6J("collapsed",!1)("toggleable",!0),e.xp6(1),e.Q6J("ngForOf",n.Questions),e.xp6(11),e.Q6J("ngForOf",n.authToolService.sections),e.xp6(1),e.Akn(e.DdM(20,so)),e.Q6J("visible",n.display)("draggable",!1)("modal",!0),e.xp6(1),e.Q6J("ngIf",n.sectionForm),e.xp6(1),e.Akn(e.DdM(21,ro)),e.Q6J("visible",n.previewDisplay)("draggable",!1)("modal",!0)("maximizable",!0),e.xp6(1),e.Q6J("sections",n.authToolService.sections))},dependencies:[d.mk,d.sg,d.O5,s._Y,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.JL,s.sg,s.u,D._l,Pe.s,I.Y,p.V,Re.B,m.Wj,dt,wt,Yt,Wt,un,In,Hn,Xn,hi,Mi],styles:[".bg-content[_ngcontent-%COMP%]{background-color:#2948ff26;border-radius:10px}.black[_ngcontent-%COMP%]{color:#000!important}.white[_ngcontent-%COMP%]{color:#fff}.light-blue[_ngcontent-%COMP%]{color:#eaedff}.bg-light-blue[_ngcontent-%COMP%]{background-color:#eaedff!important}.blue[_ngcontent-%COMP%]{color:#2948ff}.bg-forms[_ngcontent-%COMP%]{background-color:#f2f2f2;border-radius:10px}[_nghost-%COMP%]     .drag-column{padding-right:.5em}.blue-btn[_ngcontent-%COMP%]{font-size:16px!important}.drop-column[_ngcontent-%COMP%]{border:1px solid transparent;transition:border-color .2s}.drop-column.p-draggable-enter[_ngcontent-%COMP%]{border-color:var(--primary-color)}[pDraggable][_ngcontent-%COMP%]{cursor:move}p[_ngcontent-%COMP%]{font-family:Lato}.content[_ngcontent-%COMP%]{min-height:30vh;overflow:auto}.border[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;margin:.3rem 0;padding:.25rem;cursor:pointer}.drop[_ngcontent-%COMP%]{border:2px solid #ccc;border-radius:10px;padding:1rem;min-height:40vh}.border-content[_ngcontent-%COMP%]{border:2px solid #2948ff;padding:20px;border-radius:10px}.content-or-question-display[_ngcontent-%COMP%]{border-radius:10px;background-color:#f2f2f2}.types[_ngcontent-%COMP%]{position:fixed;width:23vw;left:0;bottom:0}.bg-grey[_ngcontent-%COMP%]{background-color:#f2f2f2;border-radius:6px}"]}),i})(),title:"AuthTool"}];let co=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[C.Bz.forChild(ao),C.Bz]}),i})(),uo=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.ez,co,Ke.m,p.S,D._t,q.O,$e,m._t,oe,le.nD,ze.cc]}),i})()}}]);