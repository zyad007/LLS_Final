"use strict";(self.webpackChunklls=self.webpackChunklls||[]).push([[374],{8786:(Z,m,a)=>{a.d(m,{N:()=>_});var c=a(4650);let _=(()=>{class u{constructor(){this.isExperiment=!0,this.isTeacher=!1,this.isStudent=!1,this.displayTeacher=!1,this.displayStudent=!1,this.editCourseForm=!1,this.editExperimentForm=!1,this.editUserForm=!1,this.editRoleForm=!1,this.isAssignExperiment=!1}}return u.\u0275fac=function(g){return new(g||u)},u.\u0275prov=c.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},1374:(Z,m,a)=>{a.r(m),a.d(m,{GradeBookModule:()=>Ue});var c=a(6895),_=a(433),u=a(1989),p=a(1493),g=a(613),d=a(5396),e=a(4650),f=a(9653),v=a(8786),x=a(5568);function w(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",18),e._uU(2," View "),e.qZA(),e.TgZ(3,"a",19),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.exportExperiment(r.id))}),e._uU(4," Export Report "),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(1),e.cQ8("routerLink","/user/grade-book/trial/",i.courseId,"/",i.experimentId,"/",t.id,"")}}function q(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",15),e.YNc(12,w,5,3,"div",16),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.numberOfTials),e.xp6(2),e.Oqu(t.finalGrade),e.xp6(2),e.Oqu(t.feedback),e.xp6(2),e.Q6J("ngIf",t.numberOfTials)}}function N(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",24)(1,"a",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.perviousP())}),e._uU(2," previous "),e.qZA()()}}function k(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",24)(1,"a",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(4);return e.KtG(r.paginate())}),e._uU(2," next "),e.qZA()()}}function O(n,o){if(1&n&&(e.TgZ(0,"div",20)(1,"nav",21)(2,"ul",22),e.YNc(3,N,3,0,"li",23),e.YNc(4,k,3,0,"li",23),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",t.pervious),e.xp6(1),e.Q6J("ngIf",t.next)}}function U(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",4)(2,"h6",5),e._uU(3,"Filter By:"),e.qZA(),e.TgZ(4,"div",6)(5,"input",7,8),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(6),s=e.oxw(2);return e.KtG(s.searchByName(r.value))}),e.qZA()()(),e.TgZ(7,"div",9)(8,"button",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.exportReport())}),e._uU(9,"Export Report"),e.qZA()(),e.TgZ(10,"table")(11,"tr")(12,"th"),e._uU(13,"Email"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Name"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Trial"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"grade"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"FeedBack"),e.qZA(),e.TgZ(22,"th",11),e._uU(23,"Actions"),e.qZA()(),e.YNc(24,q,13,6,"tr",12),e.qZA(),e.TgZ(25,"div",13)(26,"div"),e._uU(27),e.qZA(),e.YNc(28,O,5,2,"div",14),e.ALo(29,"async"),e.qZA()()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(24),e.Q6J("ngForOf",t),e.xp6(3),e.hij("showing 1 to 10 from ",t.length,""),e.xp6(1),e.Q6J("ngIf",e.lcZ(29,3,i.currentPageNumber$))}}function S(n,o){1&n&&(e.TgZ(0,"div",26)(1,"p",27),e._uU(2,"No Gradings In this course untill now"),e.qZA()())}function G(n,o){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,U,30,5,"div",2),e.YNc(2,S,3,0,"div",3),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.length),e.xp6(1),e.Q6J("ngIf",!t.length)}}let E=(()=>{class n{constructor(t,i,r,s){this.store=t,this.route=i,this.courseService=r,this.http=s}ngOnInit(){this.route.params.subscribe(t=>{this.courseId=t.idd,this.experimentId=t.expIdd,this.http.get(`/api/Course/${this.courseId}/Experiment/${this.experimentId}/Grade-Book`).subscribe({next:i=>{console.log(i),this.Gradings$=i.data.result,i.data?.next&&(this.next=i.data?.next,console.log(this.next)),i.data?.pervious&&(this.pervious=i.data?.pervious)},error:i=>{}})})}searchByName(t){this.http.get(`/api/Course/${this.courseId}/Experiment/${this.experimentId}/Grade-Book/?searchByEmail=${t}`).subscribe({next:i=>{this.Gradings$=i.data.result,i.data?.next&&(this.next=i.data?.next)},error:i=>{}})}paginate(){this.next&&this.http.getNext(this.next).subscribe({next:t=>{this.Gradings$=t.data.result,this.next=t.data.next,this.pervious=t.data.pervious},error:t=>{}})}perviousP(){this.pervious&&this.http.get(this.pervious).subscribe({next:t=>{this.GradingPageNumber$=t.data.result,this.next=t.data.next,this.pervious=t.data.pervious},error:t=>{}})}exportReport(){this.http.get(`/api/Course/${this.courseId}/Experiment/${this.experimentId}/Grade-Book/Report`).subscribe(t=>{this.download(".pdf",t),window.open(t.url,"_target")},t=>{console.log(t)})}exportExperiment(t){this.http.get(`/api/Course/${this.courseId}/Experiment/${this.experimentId}/Grade-Book/${t}/Report`).subscribe(i=>{this.download(t+".pdf",i),window.open(i.url,"_target")},i=>{console.log(i)})}download(t,i){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(i)),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.yh),e.Y36(d.gz),e.Y36(v.N),e.Y36(x.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-experiment-grade"]],decls:1,vars:1,consts:[["class","table-lls my-5",4,"ngIf"],[1,"table-lls","my-5"],[4,"ngIf"],["class","my-5 sub-title w-50",4,"ngIf"],[1,"d-flex","align-items-center","my-2"],[1,"bold","black","mb-0","me-3"],[1,"search-input","dropdown-toggle","mx-4"],["placeholder","filter by email",1,"",3,"change"],["searchByname",""],[1,"d-flex","justify-content-end","my-2"],[1,"blue-btn",3,"click"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","h-100","pageNu","p-3"],["class","",4,"ngIf"],[1,"blue"],["class","d-flex justify-content-around",4,"ngIf"],[1,"d-flex","justify-content-around"],[1,"blue","cursor",3,"routerLink"],[1,"blue","cursor",3,"click"],[1,""],["aria-label","Page navigation example  ",1,"page","my-2"],[1,"pagination","d-flex","justify-content-center"],["class","page-item",4,"ngIf"],[1,"page-item"],[1,"page-link","blue","cursor",3,"click"],[1,"my-5","sub-title","w-50"],[1,"text-center","medium"]],template:function(t,i){1&t&&e.YNc(0,G,3,2,"div",0),2&t&&e.Q6J("ngIf",i.Gradings$)},dependencies:[c.sg,c.O5,d.yS,c.Ov]}),n})();var T=a(7114),h=a(1494),J=a(5397);function $(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"td")(14,"div",10)(15,"a",11),e._uU(16," View "),e.qZA()()()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.numberOfStudents),e.xp6(2),e.Oqu(t.numberOfExp),e.xp6(2),e.Oqu(e.lcZ(9,6,t.startDate)),e.xp6(3),e.Oqu(e.lcZ(12,8,t.endDate)),e.xp6(4),e.MGl("routerLink","gr-details/",t.idd,"")}}const F=function(n){return{active:n}};function Y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",15)(1,"a",18),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2).ngIf,Se=e.oxw(4);return e.KtG(Se.paginate(s,l))}),e._uU(2),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(4).ngIf;e.xp6(1),e.Q6J("ngClass",e.VKq(2,F,t===i)),e.xp6(1),e.Oqu(t)}}const C=function(n){return{blueLight:n}};function M(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ul",14)(1,"li",15)(2,"a",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().ngIf,s=e.oxw(2).ngIf,l=e.oxw(2);return e.KtG(l.paginate(s-1,r))}),e._uU(3," previous "),e.qZA()(),e.YNc(4,Y,3,4,"li",17),e.TgZ(5,"li",15)(6,"a",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().ngIf,s=e.oxw(2).ngIf,l=e.oxw(2);return e.KtG(l.paginate(s+1,r))}),e._uU(7," next "),e.qZA()()()}if(2&n){const t=e.oxw().ngIf,i=e.oxw(2).ngIf;e.xp6(2),e.Q6J("ngClass",e.VKq(3,C,i<=1)),e.xp6(2),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("ngClass",e.VKq(5,C,i>=t.length))}}function Q(n,o){if(1&n&&(e.TgZ(0,"nav",12),e.YNc(1,M,8,7,"ul",13),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.length)}}function D(n,o){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"table")(5,"tr")(6,"th"),e._uU(7,"Course Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"# Of Student"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"# Of Experiments"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Start Date"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"End Date"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Actions"),e.qZA()(),e.YNc(18,$,17,10,"tr",6),e.qZA(),e.TgZ(19,"div",7)(20,"div"),e._uU(21),e.qZA(),e.TgZ(22,"div",8),e.YNc(23,Q,2,1,"nav",9),e.ALo(24,"async"),e.qZA()()()()()()),2&n){const t=o.ngIf,i=e.oxw(3);e.xp6(18),e.Q6J("ngForOf",t),e.xp6(3),e.hij("showing 1 to 10 from ",t.length,""),e.xp6(2),e.Q6J("ngIf",e.lcZ(24,3,i.CoursesPageNumber$))}}function B(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,D,25,5,"div",1),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.coursesList$))}}function P(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,B,3,3,"div",0),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.currentPageNumber$))}}let L=(()=>{class n{constructor(t,i){this.store=t,this.authServices=i,this.editCourseForm=!1}ngOnInit(){this.store.dispatch(T.T.loadCoursesPage()),this.coursesList$=this.store.select(h.kM),this.CoursesPageNumber$=this.store.select(h.CB),this.currentPageNumber$=this.store.select(h.A8)}paginate(t,i){t<1||t>i.length||this.store.dispatch(T.T.loadCoursesNext({pagination:t}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.yh),e.Y36(J.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-grade-book"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","lls-container mt-5",4,"ngIf"],[1,"lls-container","mt-5"],[1,"row","mt-5"],[1,"col-12"],[1,"table-lls","my-5"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","h-100","pageNu","p-3"],[1,""],["aria-label","Page navigation example  ","class","page my-2",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"blue","cursor","text-decoration-none",3,"routerLink"],["aria-label","Page navigation example  ",1,"page","my-2"],["class","pagination d-flex justify-content-center",4,"ngIf"],[1,"pagination","d-flex","justify-content-center"],[1,"page-item"],[1,"page-link","blue","cursor",3,"ngClass","click"],["class","page-item",4,"ngFor","ngForOf"],[1,"page-link","orange","cursor",3,"ngClass","click"]],template:function(t,i){1&t&&e.YNc(0,P,3,3,"div",0),2&t&&e.Q6J("ngIf",i.authServices.searchStringInArray("ViewGradeBooks_Teacher",i.authServices.Permissions))},dependencies:[c.mk,c.sg,c.O5,d.yS,c.Ov,c.uU]}),n})();var j=a(1052),H=a(9844),I=a(8793),b=a(6593);function K(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td",8)(10,"div",9)(11,"a",10),e._uU(12," View "),e.qZA()()()()),2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.lcZ(5,5,t.startDate)),e.xp6(3),e.Oqu(e.lcZ(8,7,t.endDate)),e.xp6(4),e.hYB("routerLink","/user/grade-book/gr-experiment/",i.itemId,"/",t.idd,"")}}const z=function(n){return{active:n}};function V(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2).ngIf,l=e.oxw(4);return e.KtG(l.paginate(r,s))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3).ngIf;e.Q6J("ngClass",e.VKq(2,z,t===i)),e.xp6(1),e.Oqu(t)}}function R(n,o){if(1&n&&(e.TgZ(0,"li",16),e.YNc(1,V,2,4,"a",19),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t<=5)}}const y=function(n){return{blueLight:n}};function X(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ul",15)(1,"li",16)(2,"a",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().ngIf,s=e.oxw().ngIf,l=e.oxw(3);return e.KtG(l.paginate(s-1,r))}),e._uU(3," previous "),e.qZA()(),e.YNc(4,R,2,1,"li",18),e.TgZ(5,"li",16)(6,"a",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().ngIf,s=e.oxw().ngIf,l=e.oxw(3);return e.KtG(l.paginate(s+1,r))}),e._uU(7," next "),e.qZA()()()}if(2&n){const t=e.oxw().ngIf,i=e.oxw().ngIf;e.xp6(2),e.Q6J("ngClass",e.VKq(3,y,i<=1)),e.xp6(2),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("ngClass",e.VKq(5,y,i>=t.length))}}function W(n,o){if(1&n&&(e.TgZ(0,"nav",13),e.YNc(1,X,8,7,"ul",14),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.length)}}function ee(n,o){if(1&n&&(e.TgZ(0,"div",11),e.YNc(1,W,2,1,"nav",12),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.ExperimentPageNumber$))}}function te(n,o){if(1&n&&(e.TgZ(0,"div")(1,"table")(2,"tr")(3,"th"),e._uU(4,"Experiment Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Start Date"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"End Date"),e.qZA(),e.TgZ(9,"th",4),e._uU(10,"Actions"),e.qZA()(),e.YNc(11,K,13,9,"tr",5),e.qZA(),e.TgZ(12,"div",6)(13,"div"),e._uU(14),e.qZA(),e.YNc(15,ee,3,3,"div",7),e.ALo(16,"async"),e.qZA()()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(11),e.Q6J("ngForOf",t),e.xp6(3),e.hij("showing 1 to 10 from ",t.length,""),e.xp6(1),e.Q6J("ngIf",e.lcZ(16,3,i.currentPageNumber$))}}function ne(n,o){1&n&&(e.TgZ(0,"div",21)(1,"p",22),e._uU(2,"No experiments In this course untill now"),e.qZA()())}function ie(n,o){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,te,17,5,"div",2),e.YNc(2,ne,3,0,"div",3),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.length),e.xp6(1),e.Q6J("ngIf",!t.length)}}let oe=(()=>{class n{constructor(t,i,r,s){this.store=t,this.route=i,this.courseService=r,this.http=s,this.isCheckBox=!1}ngOnInit(){this.route.params.subscribe(t=>{this.itemId=t.id,this.store.dispatch(I.p.loadExperimentPage({id:t.id})),this.experiments$=this.store.select((0,b.SW)(this.itemId)),this.ExperimentPageNumber$=this.store.select((0,b.ai)(this.itemId)),this.currentPageNumber$=this.store.select((0,b.a2)(this.itemId))})}paginate(t,i){t<1||t>i.length||this.store.dispatch(I.p.loadExperimentNext({pagination:t,id:this.itemId}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.yh),e.Y36(d.gz),e.Y36(v.N),e.Y36(x.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-grading-ex-table"]],decls:2,vars:3,consts:[["class","table-lls my-3",4,"ngIf"],[1,"table-lls","my-3"],[4,"ngIf"],["class","my-5 sub-title w-50",4,"ngIf"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","h-100","pageNu","p-3"],["class","",4,"ngIf"],[1,"blue"],[1,"d-flex","justify-content-around"],[1,"blue","cursor",3,"routerLink"],[1,""],["aria-label","Page navigation example  ","class","page my-2",4,"ngIf"],["aria-label","Page navigation example  ",1,"page","my-2"],["class","pagination d-flex justify-content-center",4,"ngIf"],[1,"pagination","d-flex","justify-content-center"],[1,"page-item"],[1,"page-link","blue","cursor",3,"ngClass","click"],["class","page-item",4,"ngFor","ngForOf"],["class","page-link orange cursor",3,"ngClass","click",4,"ngIf"],[1,"page-link","orange","cursor",3,"ngClass","click"],[1,"my-5","sub-title","w-50"],[1,"text-center","medium"]],template:function(t,i){1&t&&(e.YNc(0,ie,3,2,"div",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.experiments$))},dependencies:[c.mk,c.sg,c.O5,d.yS,c.Ov,c.uU]}),n})();function re(n,o){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h6",6),e._uU(6," Courses/ "),e.qZA(),e.TgZ(7,"h6",7),e._uU(8),e.qZA()(),e.TgZ(9,"h3",8),e._uU(10),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10),e.O4$(),e.TgZ(13,"svg",11),e._UZ(14,"path",12),e.qZA(),e.kcU(),e.TgZ(15,"p",13),e._uU(16),e.ALo(17,"date"),e.qZA()(),e.TgZ(18,"div",10),e.O4$(),e.TgZ(19,"svg",11),e._UZ(20,"path",12),e.qZA(),e.kcU(),e.TgZ(21,"p",13),e._uU(22),e.ALo(23,"date"),e.qZA()(),e.TgZ(24,"div",10),e.O4$(),e.TgZ(25,"svg",14),e._UZ(26,"path",15)(27,"path",16),e.qZA(),e.kcU(),e.TgZ(28,"p",13),e._uU(29),e.qZA()()(),e._UZ(30,"app-grading-ex-table"),e.qZA()()()),2&n){const t=o.ngIf;e.xp6(8),e.Oqu(t.data.name),e.xp6(2),e.Oqu(t.data.name),e.xp6(6),e.hij(" Start Date :",e.lcZ(17,5,t.data.startDate)," "),e.xp6(6),e.hij(" End Date :",e.lcZ(23,7,t.data.endDate)," "),e.xp6(7),e.hij(" ",t.data.numberOfStudents," enrolled student ")}}let se=(()=>{class n{constructor(t,i,r,s,l){this.store=t,this.route=i,this.httpService=r,this.courseService=s,this.router=l}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id,this.store.dispatch(j.q.loadCourseDetail({id:t.id})),this.CourseDetails$=this.store.select((0,H.sM)(this.id))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.yh),e.Y36(d.gz),e.Y36(x.O),e.Y36(v.N),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-grading-details"]],decls:2,vars:3,consts:[["class","lls-container mt-5",4,"ngIf"],[1,"lls-container","mt-5"],[1,"row","mt-5"],[1,"col-12"],[1,""],[1,"d-flex","align-items-center"],["routerLink","/user/courses",1,"blue","bold","cursor","mb-0"],[1,"grey","regular","mb-0","mx-2"],[1,"black","bold","mb-5","mt-3"],[1,"my-3"],[1,"d-flex","align-items-center","my-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-calendar"],["d","M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"],[1,"black","regular","mx-2","mb-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-circle"],["d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"],["fill-rule","evenodd","d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"]],template:function(t,i){1&t&&(e.YNc(0,re,31,9,"div",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.CourseDetails$))},dependencies:[c.O5,d.rH,oe,c.Ov,c.uU]}),n})();var ae=a(3843),ce=a(1481),le=a(6109),de=a(4405),ue=a(6338),_e=a(4287),pe=a(7789),ge=a(1585);function me(n,o){1&n&&(e.TgZ(0,"span",21),e._uU(1,"all scores are required"),e.qZA())}function xe(n,o){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.gradingService.sections[t.currentSectionNumber].config.help," ")}}function fe(n,o){if(1&n&&e._UZ(0,"app-grading-content",27),2&n){const t=e.oxw(),i=t.index,r=t.$implicit,s=e.oxw().$implicit,l=e.oxw(2);e.Q6J("sectionIndex",l.currentSectionNumber)("columnIndex",s)("pushedIndex",i)("data",r)}}function ve(n,o){if(1&n&&e._UZ(0,"app-true-false-by-answer",27),2&n){const t=e.oxw(),i=t.index,r=t.$implicit,s=e.oxw().$implicit,l=e.oxw(2);e.Q6J("sectionIndex",l.currentSectionNumber)("columnIndex",s)("pushedIndex",i)("data",r)}}function he(n,o){if(1&n&&e._UZ(0,"app-open-by-answer",27),2&n){const t=e.oxw(),i=t.index,r=t.$implicit,s=e.oxw().$implicit,l=e.oxw(2);e.Q6J("sectionIndex",l.currentSectionNumber)("columnIndex",s)("pushedIndex",i)("data",r)}}function be(n,o){if(1&n&&e._UZ(0,"app-mcq-single-by-answer",27),2&n){const t=e.oxw(),i=t.index,r=t.$implicit,s=e.oxw().$implicit,l=e.oxw(2);e.Q6J("sectionIndex",l.currentSectionNumber)("columnIndex",s)("pushedIndex",i)("data",r)}}function Ze(n,o){if(1&n&&e._UZ(0,"app-mcq-multi-by-answer",27),2&n){const t=e.oxw(),i=t.index,r=t.$implicit,s=e.oxw().$implicit,l=e.oxw(2);e.Q6J("sectionIndex",l.currentSectionNumber)("columnIndex",s)("pushedIndex",i)("data",r)}}function Te(n,o){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,fe,1,4,"app-grading-content",26),e.YNc(2,ve,1,4,"app-true-false-by-answer",26),e.YNc(3,he,1,4,"app-open-by-answer",26),e.YNc(4,be,1,4,"app-mcq-single-by-answer",26),e.YNc(5,Ze,1,4,"app-mcq-multi-by-answer",26),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.mainType==i.gradingService.contentType),e.xp6(1),e.Q6J("ngIf",t.type==i.gradingService.trueOrFalseType),e.xp6(1),e.Q6J("ngIf",t.type==i.gradingService.openQuestionType),e.xp6(1),e.Q6J("ngIf",t.type==i.gradingService.singleMcqType),e.xp6(1),e.Q6J("ngIf",t.type==i.gradingService.multiMcqType)}}const Ce=function(n,o,t){return{"col-lg-4":n,"col-lg-6":o,"col-lg-12":t}};function Ie(n,o){if(1&n&&(e.TgZ(0,"div",22)(1,"div",23)(2,"div"),e.YNc(3,Te,6,5,"div",24),e.qZA()()()),2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("ngClass",e.kEZ(2,Ce,3==i.gradingService.sections[i.currentSectionNumber].config.numberOfColumns&&i.gradingService.sections[i.currentSectionNumber].vrl.layout==i.layout[1],2==i.gradingService.sections[i.currentSectionNumber].config.numberOfColumns&&i.gradingService.sections[i.currentSectionNumber].vrl.layout==i.layout[1],1==i.gradingService.sections[i.currentSectionNumber].config.numberOfColumns&&i.gradingService.sections[i.currentSectionNumber].vrl.layout==i.layout[1]||i.gradingService.sections[i.currentSectionNumber].vrl.layout==i.layout[0])),e.xp6(3),e.Q6J("ngForOf",i.gradingService.sections[i.currentSectionNumber]["column"+t])}}function ye(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"section",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"div")(5,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openDialog())}),e._uU(6,"submit"),e.qZA(),e.YNc(7,me,2,0,"span",15),e.qZA()(),e.TgZ(8,"div",16)(9,"button",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.previousSection())}),e._uU(10," Previous Section "),e.qZA(),e.TgZ(11,"button",17),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.nextSection())}),e._uU(12," Next Section "),e.qZA()(),e.TgZ(13,"div")(14,"div",18)(15,"h5",3),e._uU(16),e.qZA(),e.YNc(17,xe,2,1,"p",19),e.TgZ(18,"div",12),e.YNc(19,Ie,4,6,"div",20),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngIf",t.emptyScore),e.xp6(2),e.Q6J("disabled",t.currentSectionNumber<=0),e.xp6(2),e.Q6J("disabled",t.currentSectionNumber>=t.gradingService.sections.length-1),e.xp6(5),e.hij(" ",t.gradingService.sections[t.currentSectionNumber].title," "),e.xp6(1),e.Q6J("ngIf",t.gradingService.sections[t.currentSectionNumber].config.help),e.xp6(2),e.Q6J("ngForOf",t.getNumberOfColumns(t.gradingService.sections[t.currentSectionNumber].config.numberOfColumns))}}const A=function(){return{width:"60vw"}};let Ae=(()=>{class n{constructor(t,i,r,s,l){this.route=t,this.http=i,this.gradingService=r,this.sanitizer=s,this.router=l,this.numberOfColumns=[1,2,3],this.layout=["Vertical","Horizontal"],this.currentSectionNumber=0,this.display=!1,this.success=!1,this.emptyScore=!1}ngOnInit(){this.route.params.subscribe(t=>{this.courseId=t.idd,this.experimentId=t.expIdd,this.gradeid=t.gradeBookId,this.trailId=t.trialIdd,this.getExpirement()})}getExpirement(){this.http.get(`/api/Course/${this.courseId}/Experiment/${this.experimentId}/Grade-Book/${this.gradeid}/Trial/${this.trailId}/`).subscribe(t=>{console.log(t),this.gradingService.setSections(t.data.llo.sections,t.data.lro.sections,this.courseId,this.experimentId,this.gradeid,this.trailId)})}getNumberOfColumns(t){let i=[];for(let r=1;r<=t;r++)i.push(r);return i}nextSection(){this.currentSectionNumber>=this.gradingService.sections.length-1||(this.currentSectionNumber+=1)}previousSection(){this.currentSectionNumber<=0||(this.currentSectionNumber-=1)}sanitize(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}openDialog(){this.emptyScore=this.gradingService.checkEmptyScores(),this.emptyScore||(this.display=!0)}sendAnswers(){!this.overallFeedback||this.http.post(`/api/Course/${this.courseId}/Experiment/${this.experimentId}/Grade-Book/${this.gradeid}/Trial/${this.trailId}`,{sections:this.gradingService.answers,feedBack:this.overallFeedback}).subscribe(t=>{console.log(t),this.display=!1,this.success=!0})}finishAnswer(){this.router.navigate(["/user","grade-book"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(x.O),e.Y36(ae.r),e.Y36(ce.H7),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-trail-details"]],decls:20,vars:15,consts:[["class","bg-grey py-4 expirment",4,"ngIf"],["header","Submit Answers",3,"visible","draggable","modal","visibleChange"],[1,"d-flex","justify-content-center","align-items-center","flex-column"],[1,"blue"],[1,"lls-form","w-100"],[1,"lls-form-group"],["required","",3,"ngModel","ngModelChange"],[1,"blue-btn","w-25",3,"disabled","click"],["header","Submit Answers",3,"visible","draggable","modal","onHide","visibleChange"],[1,"blue-btn","w-25",3,"click"],[1,"bg-grey","py-4","expirment"],[1,"container-fluid"],[1,"row"],[1,"d-flex","justify-content-between"],[1,"my-3","blue-btn",3,"click"],["class","text-danger mx-2",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"blue-btn",3,"disabled","click"],[1,"drop","my-4"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"text-danger","mx-2"],[3,"ngClass"],[1,"border-content","my-4","content","bg-content"],["class","content-or-question-display",4,"ngFor","ngForOf"],[1,"content-or-question-display"],[3,"sectionIndex","columnIndex","pushedIndex","data",4,"ngIf"],[3,"sectionIndex","columnIndex","pushedIndex","data"]],template:function(t,i){1&t&&(e.YNc(0,ye,20,6,"section",0),e.TgZ(1,"p-dialog",1),e.NdJ("visibleChange",function(s){return i.display=s}),e.TgZ(2,"div",2)(3,"h6",3),e._uU(4,"Are you sure, you want to submit your answers"),e.qZA(),e.TgZ(5,"h6",3),e._uU(6,"Please write your overall feedback"),e.qZA(),e.TgZ(7,"div",4)(8,"div",5)(9,"textarea",6),e.NdJ("ngModelChange",function(s){return i.overallFeedback=s}),e._uU(10," "),e.qZA()()(),e.TgZ(11,"button",7),e.NdJ("click",function(){return i.sendAnswers()}),e._uU(12," submit "),e.qZA(),e._UZ(13,"app-forms-spinner"),e.qZA()(),e.TgZ(14,"p-dialog",8),e.NdJ("onHide",function(){return i.finishAnswer()})("visibleChange",function(s){return i.success=s}),e.TgZ(15,"div",2)(16,"h6",3),e._uU(17,"your data had been submitted"),e.qZA(),e.TgZ(18,"button",9),e.NdJ("click",function(){return i.finishAnswer()}),e._uU(19,"Ok"),e.qZA()()()),2&t&&(e.Q6J("ngIf",i.gradingService.sections.length&&i.gradingService.answers.length),e.xp6(1),e.Akn(e.DdM(13,A)),e.Q6J("visible",i.display)("draggable",!1)("modal",!0),e.xp6(8),e.Q6J("ngModel",i.overallFeedback),e.xp6(2),e.Q6J("disabled",!i.overallFeedback),e.xp6(3),e.Akn(e.DdM(14,A)),e.Q6J("visible",i.success)("draggable",!1)("modal",!0))},dependencies:[c.mk,c.sg,c.O5,_.Fj,_.JJ,_.Q7,_.On,p.V,le.Y,de.L,ue.o,_e.m,pe.Z,ge.S]}),n})();function we(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",6)(12,"div",7)(13,"a",8),e._uU(14," View "),e.qZA()()()()),2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(2),e.Oqu(t.isGraded),e.xp6(2),e.Oqu(t.startedAt),e.xp6(2),e.Oqu(t.status),e.xp6(2),e.Oqu(t.submitedAt),e.xp6(2),e.Oqu(t.totalTimeInMin),e.xp6(2),e.FAE("routerLink","/user/grade-book/trial-details/",i.courseId,"/",i.experimentId,"/",t.id,"/",t.id,"")}}function qe(n,o){if(1&n&&(e.TgZ(0,"div")(1,"table")(2,"tr")(3,"th"),e._uU(4,"graded"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"started at"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"submited At"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"totalTimeInMin"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"status"),e.qZA(),e.TgZ(13,"th",3),e._uU(14,"Actions"),e.qZA()(),e.YNc(15,we,15,9,"tr",4),e.qZA(),e._UZ(16,"div",5),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(15),e.Q6J("ngForOf",t)}}function Ne(n,o){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,qe,17,1,"div",2),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.length)}}const ke=[{path:"",component:L},{path:"gr-details/:id",component:se},{path:"gr-experiment/:idd/:expIdd",component:E},{path:"trial/:idd/:expIdd/:gradeBookId",component:(()=>{class n{constructor(t,i){this.route=t,this.http=i}ngOnInit(){this.route.params.subscribe(t=>{this.courseId=t.idd,this.experimentId=t.expIdd,this.gradeid=t.gradeBookId,this.http.get(`/api/Course/${this.courseId}/Experiment/${this.experimentId}/Grade-Book/${this.gradeid}/Trial`).subscribe(i=>{this.trials=i.data.results})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(x.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-trial-experiment"]],decls:1,vars:1,consts:[["class","table-lls my-5",4,"ngIf"],[1,"table-lls","my-5"],[4,"ngIf"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","h-100","pageNu","p-3"],[1,"blue"],[1,"d-flex","justify-content-around",3,"routerLink"],[1,"blue","cursor"]],template:function(t,i){1&t&&e.YNc(0,Ne,2,1,"div",0),2&t&&e.Q6J("ngIf",i.trials)},dependencies:[c.sg,c.O5,d.rH]}),n})()},{path:"trial-details/:idd/:expIdd/:gradeBookId/:trialIdd",component:Ae}];let Oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(ke),d.Bz]}),n})(),Ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,Oe,p.S,u.nD,g.cc,_.u5]}),n})()},6109:(Z,m,a)=>{a.d(m,{Y:()=>_});var c=a(4650);let _=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(g){return new(g||u)},u.\u0275cmp=c.Xpm({type:u,selectors:[["app-forms-spinner"]],decls:5,vars:0,consts:[[1,"lds-ring"]],template:function(g,d){1&g&&(c.TgZ(0,"div",0),c._UZ(1,"div")(2,"div")(3,"div")(4,"div"),c.qZA())},styles:[".bg-content[_ngcontent-%COMP%]{background-color:#2948ff26;border-radius:10px}.black[_ngcontent-%COMP%]{color:#000!important}.white[_ngcontent-%COMP%]{color:#fff}.light-blue[_ngcontent-%COMP%]{color:#eaedff}.bg-light-blue[_ngcontent-%COMP%]{background-color:#eaedff!important}.blue[_ngcontent-%COMP%]{color:#2948ff}.bg-forms[_ngcontent-%COMP%]{background-color:#f2f2f2;border-radius:10px}.lds-ring[_ngcontent-%COMP%]{display:none;position:relative;width:20px;height:20px}.lds-ring.show[_ngcontent-%COMP%]{display:inline-block}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:30px;height:30px;margin:8px;border:3px solid #2948ff;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#2948ff transparent transparent transparent}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),u})()}}]);